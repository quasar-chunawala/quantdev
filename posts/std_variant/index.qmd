---
title: "`std::variant`"
author: "Quasar"
date: "2025-12-23"
categories: [C++]      
image: "cpp.jpg"
toc: true
toc-depth: 3
---

# Using `std::variant`
A `std::variant` is a closed-discriminated union. Variants simply have internal memory for maximum size of the underlying types plus a fixed overhead to manage which alternative is used. No heap memory is allocated. The resulting object has value semantics. Copying a variant is implemented as a deep-copy, it creates a new variant object with the current value of the alternative in its own memory.

<iframe width="800px" height="500px" src="https://godbolt.org/e#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAMzwBtMA7AQwFtMQByARg9KtQYEAysib0QXACx8BBAKoBnTAAUAHpwAMvAFYTStJg1DIApACYAQuYukl9ZATwDKjdAGFUtAK4sGIM6SuADJ4DJgAcj4ARpjEIADM0gAOqAqETgwe3r7%2BpClpjgIhYZEsMXGJtpj2hQxCBEzEBFk%2BfgF2mA4Z9Y0ExRHRsQnSCg1NLTntY32hA2VDiQCUtqhexMjsHObxocjeWADUJvFuTqPEmKzH2CYaAILnXg4Hd0cA7Fb3B98vEKEEB1UiwOIEBECB7ysbwAIrdXj87hA0AxRi9zAA2A5MYEmD6Ao7xaEHLjHCzvWFfBEQO4YjFYnF41QEolmUnkuE/A7/QGkuG42HxT40%2B4AN1QeHQB34qGpBwIDKFnNG6BAKFWAOObk1coAdKpefd%2BXz7q8oo0IItcYqEViIABWS2Cjk/C4ENYMLEGmkw413V7Ss3EC1W53fV3u37ox1Co2Gk20syYs0AL2pCcxjWAlo%2BoYO4eIHuVqpYqBFmAgmejfJ9cbu3JYTFCFshudeTAg8SrlO%2B0orXfhPdQMsRkkW/aVBBVaq8GpO2sDFr1XonU7QM4JWpOUqHC8WS6d3ZeecwCi8tAIVoOKepEDeY/ZB4HByL09nm7cx9P5/3MZhHGWtCcHavB%2BBwWikKgnBapY1jPqs6yYEcZjxDwpAEJo/7LAA1iAdoaPonCSCBGEQZwvAKCA%2BHoWB/6kHAsAwIgaosEkdCxOQlBoCxbFxMACjMEkCgIKgBB8HQBCxBREBRCRUShI0ACesnycQCkAPJRNonTUahXFsIIakMLQSk0aQWBRF4wBuGItAUdwvBYA2RjiKZ%2BAXF0ZZ2eBmCqJ0M6bOB/zVCRtB4FExCKR4WCcKhBDEHgLAxbwZbEFEqSYNCmBOcAoVGBhyxUAYfEAGp4JgADualJIwSUyIIIhiOwUh1fIShqCRuhcPohjGNY1j6GFFGQMsqBJLUdkALRqWYBwTcqxzQqYMGWGYTAHLwpaxPFWBDRaVQ1BkLgMO4nitHowSzKU5R6Pk6QCBMfhdbdtT9FdQxdR0XQCD04ynTkH3VNp3TTK9gxxB90wPXooy9KD8zg8sCjwRsEgAUBxGmZBHCAgAHOiE3opIBzAMgyAHBAcVeAwWHAhAuCECQSEoYsvDUVoY6kDheEERwRGkIl3OgeBWPkZRaH5XRjEQEg6pJDOHEQJg%2BBENtej8PVojiM16utSo6imZ1pDlRFSRJWjHDAaQQsbZwakznLAKoFQuP44TxOk%2BTlPU7THjcfQxBM1wLPizRHMIJcWBxHtgG87wAv4dbpEcKLVH5dhuH4TH8QY8LZEh%2Bz5tmDnNvJ/nmGkClaTOJIQA%3D"></iframe>