<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Quasar">
<meta name="dcterms.date" content="2025-10-22">

<title>quantdev.blog - Discrete probability puzzles</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap')
</style>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9993009899870547" crossorigin="anonymous"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">quantdev.blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../sell_side_quant_critical_path.html" rel="" target="">
 <span class="menu-text">Sell-side Quant</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../roadmap.html" rel="" target="">
 <span class="menu-text">C++ Roadmap</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/quasar-chunawala" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://linkedin.com/in/quasar-chunawala" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Discrete probability puzzles</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Quant Puzzles</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Quasar </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 22, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#puzzles-on-discrete-probability" id="toc-puzzles-on-discrete-probability" class="nav-link active" data-scroll-target="#puzzles-on-discrete-probability">Puzzles on discrete probability</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="puzzles-on-discrete-probability" class="level2">
<h2 class="anchored" data-anchor-id="puzzles-on-discrete-probability">Puzzles on discrete probability</h2>
<div id="exm-puzzle-1" class="theorem example">
<p><span class="theorem-title"><strong>Example 1 </strong></span>We flip a fair coin until we obtain our first heads. If the first heads occurs on the <span class="math inline">\(k\)</span>-th flip, we are given <span class="math inline">\(k\)</span> balls. We put them into 3 bins labeled 1, 2, and 3 at random. Find the probability that none of the three bins are empty.</p>
</div>
<p><em>Solution</em>.</p>
<p>Let <span class="math inline">\(A_k\)</span> be the event that the first head occurs on the <span class="math inline">\(k\)</span>th flip. So, we are interested in the sequence <span class="math inline">\(\underbrace{T \ldots T}_{(k-1)\text{-tails}}H\)</span>. We have:</p>
<p><span class="math display">\[
\mathbb{P}(A_k) = \left(\frac{1}{2}\right)^{k-1} \cdot \frac{1}{2} = \frac{1}{2^k}
\]</span></p>
<p>In assigning <span class="math inline">\(k\)</span> balls to the bins, we first place one ball in each of the three bins. Remember, the balls are indistinguishable. That leaves us with <span class="math inline">\((k-3)\)</span> balls. <span class="math inline">\((k-3)\)</span> indistinguishable balls can be assigned to <span class="math inline">\(n=3\)</span> boxes in <span class="math inline">\({k-1 \choose 2}\)</span> distinguishable ways. Let <span class="math inline">\(B_k\)</span> be the event that none of the bins are empty, given <span class="math inline">\(k\)</span> balls</p>
<p><span class="math display">\[
\mathbb{P}(B_k | A_k ) = \frac{{k-1 \choose 2}}{3^k}
\]</span></p>
<p>distinguishable ways. Hence, the probability that none of the three bins are empty is:</p>
<p><span class="math display">\[
\begin{align*}
\mathbb{P}(\text{No empty bins}) &amp;= \mathbb{P}(B_3 | A_3 )\mathbb{P}(A_3) + \mathbb{P}(B_4 | A_4) \mathbb{P}(A_4) + \ldots \\
&amp;= \sum_{k=3}^{\infty}\frac{1}{2^k} \frac{{k-1 \choose 2}}{3^k}\\
&amp;= \sum_{k=3}^{\infty} \frac{(k-1)k}{2}\frac{1}{6^k}\\
\end{align*}
\]</span></p>
<p>A closed form expression for the above arithmetico-geometric series can quickly be derived. We have:</p>
<p><span class="math display">\[
\begin{align*}
\frac{1}{1 - x} &amp;= 1 + x + x^2 + x^3 + x^4 + \ldots\\
\frac{1}{(1-x)^2} &amp;= 1 + 2x + 3x^2 + 4x^3 + \ldots \quad \{\text{Differentiating both sides}\}\\
\frac{2}{(1-x)^3} &amp;= 2 + 3\cdot 2 x + 4 \cdot 3 x^2 + \ldots \quad \{\text{Differentiating both sides}\}\\
\frac{2x^2}{(1-x)^3} &amp;= 2x^2 + 3\cdot 2 x^3 + 4 \cdot 3 x^4 + \ldots \quad \{\text{Multiplying by }x^2\}\\
\frac{2x^2(1 - (1-x)^3) }{(1-x)^3} &amp;= 3\cdot 2 x^3 + 4 \cdot 3 x^4 + \ldots\\
\frac{x^2(1 - (1-x)^3) }{(1-x)^3} &amp;= \frac{1}{2}\left(3\cdot 2 x^3 + 4 \cdot 3 x^4 + \ldots\right)\\
\frac{\frac{1}{6^2}\left(1-\frac{5^3}{6^3}\right)}{\frac{5^3}{6^3}} &amp;= \frac{1}{2}\left(3\cdot 2 \frac{1}{6^3} + 4 \cdot 3 \frac{1}{6^4} + \ldots\right)\\
\end{align*}
\]</span></p>
<p>The desired probability is:</p>
<p><span class="math display">\[
p=\frac{\frac{1}{6^2}\left(1-\frac{5^3}{6^3}\right)}{\frac{5^3}{6^3}} = \frac{1}{6^2}\left(\frac{6^3}{5^3} - 1\right) = \frac{1}{6^2} \cdot \frac{91}{125}
\]</span></p>
<div id="exm-puzzle-2" class="theorem example">
<p><span class="theorem-title"><strong>Example 2 </strong></span>Imagine you have <span class="math inline">\(4\)</span> <span class="math inline">\(6\)</span>-sided dice. What is the probability that you roll a different number on each die?</p>
</div>
<p><em>Solution</em>.</p>
<p><span class="math display">\[
p = \frac{6\cdot 5 \cdot 4 \cdot 3}{6^4}
\]</span></p>
<div id="exm-puzzle-3" class="theorem example">
<p><span class="theorem-title"><strong>Example 3 </strong></span>What is the probability of flipping exactly <span class="math inline">\(5\)</span> heads when flipping <span class="math inline">\(10\)</span> fair coins?</p>
</div>
<p><em>Solution</em>.</p>
<p><span class="math display">\[
P(k = 5) = {10 \choose 5} \frac{1}{2^{10}}
\]</span></p>
<div id="exm-puzzle-4" class="theorem example">
<p><span class="theorem-title"><strong>Example 4 </strong></span>Two players are at deuce in a tennis match — player <span class="math inline">\(1\)</span> has <span class="math inline">\(60\)</span> percent of winning the point and player <span class="math inline">\(2\)</span> has <span class="math inline">\(40\)</span> percent chance. What are the odds of player 1 winning?</p>
</div>
<p><em>Solution</em></p>
<p>When a game is at the 40-40 mark, a player still needs two clear points to win the game. We can quickly draw the following state diagram to represent the game (it is a discrete-time markov chain).</p>
<div id="fig:markov_chain_01" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="markov_chain_01.jpg" class="img-fluid figure-img" data-scale="50%"></p>
<figcaption class="figure-caption">Winning the game</figcaption>
</figure>
</div>
<p>Let the state <span class="math inline">\(s_1 \stackrel{def}{=}\)</span> the two players are 40-40. And the state <span class="math inline">\(s_3 \stackrel{def}{=}\)</span> player <span class="math inline">\(1\)</span> wins. The states <span class="math inline">\(3\)</span> and <span class="math inline">\(5\)</span> are absorbing states. Let <span class="math inline">\(p_{13}\)</span> be the hitting probability of state <span class="math inline">\(3\)</span> from state <span class="math inline">\(1\)</span>. We have:</p>
<p><span class="math display">\[
\begin{align*}
p_{13} &amp;= 0.6 p_{23} + 0.4 p_{43}\\
p_{23} &amp;= 0.6 (1) + 0.4p_{13}\\
p_{43} &amp;= 0.6p_{13} + 0.4(0)
\end{align*}
\]</span></p>
<p>It turns out that <span class="math inline">\(p_{13} = \frac{9}{13}\)</span>.</p>
<div id="exm-puzzle-5" class="theorem example">
<p><span class="theorem-title"><strong>Example 5 </strong></span>You have a plate of spaghetti in front of you (no sauce!). You pick two ends and tie them together. Then you pick two more ends and tie them together. Continue until there are no free ends left. If there were <span class="math inline">\(n\)</span> spaghettis originally, what is the probability that you now have a single giant loop consisting of all the spaghettis?</p>
</div>
<p>Let <span class="math inline">\(p_n\)</span> be the probability of a single giant loop. <span class="math inline">\(n\)</span> spaghettis have <span class="math inline">\(2n\)</span> free ends. In each of the <span class="math inline">\(n\)</span> trials, you pick <span class="math inline">\(2\)</span> ends. At the start, the probability that you don’t tie a sphagetti to itself is</p>
<p><span class="math display">\[
\frac{2n}{2n} \cdot \frac{2n - 2}{2n - 1} = \frac{2n - 2}{2n - 1}
\]</span></p>
<p>After the first draw, we have reduced the problem to <span class="math inline">\((n-1)\)</span> spaghetti strands and <span class="math inline">\(2n-2\)</span> free ends. So, the probability of no-loops is:</p>
<p><span class="math display">\[
p_n =  \frac{2n - 2}{2n - 1} \cdot p_{n-1}
\]</span></p>
<p>Extending this to <span class="math inline">\(k=(n-1)\)</span> trials: <span class="math display">\[
\begin{align*}
p_n &amp;= \frac{2n - 2}{2n - 1} \cdot \frac{2n-4}{2n-3} \cdots \frac{2}{1}\\
&amp;= 2^{n-1} \frac{(n-1)!}{(2n-1)(2n-3)\cdots 1}\\
&amp;= 2^{n-1} \frac{2^n n! (n-1)!}{(2n)(2n-1)(2n-2)(2n-3) \cdots 1}\\
&amp;= 2^{2n-1} \frac{n! (n-1)!}{(2n)!}\\
\end{align*}
\]</span></p>
<div id="exm-puzzle-7" class="theorem example">
<p><span class="theorem-title"><strong>Example 6 </strong></span>An electronic safe has a three digit passcode. You are given three constraints regarding the code. Firstly, the code is not an odd number. Secondly, the code does not contain the number six. Lastly, one of the digits appears more than once. How many possible three digit entries satisfy these three requirements?</p>
</div>
<p><em>Solution</em>.</p>
<p>Since it’s a <span class="math inline">\(3\)</span>-digit electronic passcode to a safe, <span class="math inline">\(0\)</span> is a valid first digit. The last digit must be one of <span class="math inline">\(0,2,4,8\)</span>. The first digit must be one of <span class="math inline">\(\{0,1,2,\ldots,5,7,8,9\}\)</span>. The middle digit must be must be one of <span class="math inline">\(\{0,1,2,\ldots,5,7,8,9\}\)</span></p>
<p>Case I. The first two digits are identical.</p>
<p>There are <span class="math inline">\(9 \times 1 \times 4 = 36\)</span> such distinguishable codes.</p>
<p>Case II. The last two digits are identical.</p>
<p>There are <span class="math inline">\(9 \times 1 \times 4 = 36\)</span> such distinguishable codes.</p>
<p>Case III. The first and the third digits are identical.</p>
<p>There are <span class="math inline">\(1 \times 9 \times 4 = 36\)</span> such distinguishable codes.</p>
<p>Also, <span class="math inline">\(000\)</span>, <span class="math inline">\(222\)</span>, <span class="math inline">\(444\)</span> and <span class="math inline">\(888\)</span> have been overcounted <span class="math inline">\(3\)</span> times. They should be accounted for only once. Hence, the number of possible three digit entries satisfying the above requirements are <span class="math inline">\(108 - 8 = 100\)</span>.</p>
<div id="exm-puzzle-8" class="theorem example">
<p><span class="theorem-title"><strong>Example 7 </strong></span>Suppose we roll <span class="math inline">\(5\)</span> standard fair dice and sum the faces of the largest <span class="math inline">\(3\)</span> values showing. Find the probability that the sum is <span class="math inline">\(18\)</span>.</p>
</div>
<p><em>Solution</em>.</p>
<p>To reach a sum of <span class="math inline">\(18\)</span> on the largest three die faces, we must get atleast <span class="math inline">\(3\)</span> sixes in <span class="math inline">\(5\)</span> dice rolls.</p>
<p>Define success as getting a <span class="math inline">\(6\)</span> on a die, <span class="math inline">\(p = \frac{1}{6}\)</span>, <span class="math inline">\(q=\frac{5}{6}\)</span> and let <span class="math inline">\(X\)</span> be the number of sixes in <span class="math inline">\(5\)</span> die rolls.</p>
<p><span class="math display">\[
\begin{align*}
P(X \ge 3) &amp;= 1 - (P(X=0) + P(X=1) + P(X=2))\\
&amp;= 1 - \left(\frac{5}{6}\right)^5 - {5 \choose 1} \left(\frac{1}{6}\right)\left(\frac{5}{6}\right)^4 - {5 \choose 2} \left(\frac{1}{6}\right)^2\left(\frac{5}{6}\right)^3\\
&amp;= \frac{23}{648}
\end{align*}
\]</span></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="quasar-chunawala/quantdev" data-repo-id="R_kgDOL2t5-A" data-category="General" data-category-id="DIC_kwDOL2t5-M4ClndQ" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>