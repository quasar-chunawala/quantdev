<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Quasar">
<meta name="dcterms.date" content="2025-11-29">

<title>quantdev.blog - Python3 cheatsheet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap')
</style>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9993009899870547" crossorigin="anonymous"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../.././symbol.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">quantdev.blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../sell_side_quant_critical_path.html" rel="" target="">
 <span class="menu-text">Sell-side Quant</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../roadmap.html" rel="" target="">
 <span class="menu-text">C++ Roadmap</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://patreon.com/u59411143?utm_medium=unknown&amp;utm_source=join_link&amp;utm_campaign=creatorshare_creator&amp;utm_content=copyLink" rel="" target=""><i class="bi bi-patreon" role="img">
</i> 
 <span class="menu-text">Become a patreon</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/quasar-chunawala" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://linkedin.com/in/quasar-chunawala" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Python3 cheatsheet</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Python</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Quasar </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 29, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-model" id="toc-data-model" class="nav-link active" data-scroll-target="#data-model">Data Model</a>
  <ul class="collapse">
  <li><a href="#object-values-and-types" id="toc-object-values-and-types" class="nav-link" data-scroll-target="#object-values-and-types">Object values and Types</a></li>
  <li><a href="#built-in-types-in-python" id="toc-built-in-types-in-python" class="nav-link" data-scroll-target="#built-in-types-in-python">Built-in Types in Python</a>
  <ul class="collapse">
  <li><a href="#none" id="toc-none" class="nav-link" data-scroll-target="#none"><code>None</code></a></li>
  <li><a href="#notimplemented" id="toc-notimplemented" class="nav-link" data-scroll-target="#notimplemented"><code>NotImplemented</code></a></li>
  <li><a href="#ellipsis" id="toc-ellipsis" class="nav-link" data-scroll-target="#ellipsis">Ellipsis</a></li>
  <li><a href="#numbers" id="toc-numbers" class="nav-link" data-scroll-target="#numbers">Numbers</a></li>
  <li><a href="#sequences" id="toc-sequences" class="nav-link" data-scroll-target="#sequences">Sequences</a></li>
  <li><a href="#set-types" id="toc-set-types" class="nav-link" data-scroll-target="#set-types">Set types</a></li>
  <li><a href="#mappings" id="toc-mappings" class="nav-link" data-scroll-target="#mappings">Mappings</a></li>
  <li><a href="#callable-types" id="toc-callable-types" class="nav-link" data-scroll-target="#callable-types">Callable types</a></li>
  <li><a href="#modules" id="toc-modules" class="nav-link" data-scroll-target="#modules">Modules</a></li>
  </ul></li>
  <li><a href="#special-method-names" id="toc-special-method-names" class="nav-link" data-scroll-target="#special-method-names">Special method names</a>
  <ul class="collapse">
  <li><a href="#basic-customization" id="toc-basic-customization" class="nav-link" data-scroll-target="#basic-customization">Basic customization</a></li>
  </ul></li>
  <li><a href="#special-attributes" id="toc-special-attributes" class="nav-link" data-scroll-target="#special-attributes">Special attributes</a>
  <ul class="collapse">
  <li><a href="#object.__dict__" id="toc-object.__dict__" class="nav-link" data-scroll-target="#object.__dict__"><code>object.__dict__</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#modules-and-packages" id="toc-modules-and-packages" class="nav-link" data-scroll-target="#modules-and-packages">Modules and Packages</a>
  <ul class="collapse">
  <li><a href="#the-import-statement" id="toc-the-import-statement" class="nav-link" data-scroll-target="#the-import-statement">The <code>import</code> statement</a>
  <ul class="collapse">
  <li><a href="#import-module_name" id="toc-import-module_name" class="nav-link" data-scroll-target="#import-module_name"><code>import &lt;module_name&gt;</code></a></li>
  <li><a href="#from-package_name-import-module_name" id="toc-from-package_name-import-module_name" class="nav-link" data-scroll-target="#from-package_name-import-module_name"><code>from &lt;package_name&gt; import &lt;module_name&gt;</code></a></li>
  <li><a href="#import-module_name-as-alt_name" id="toc-import-module_name-as-alt_name" class="nav-link" data-scroll-target="#import-module_name-as-alt_name"><code>import &lt;module_name&gt; as &lt;alt_name&gt;</code></a></li>
  <li><a href="#executing-a-module-as-a-script" id="toc-executing-a-module-as-a-script" class="nav-link" data-scroll-target="#executing-a-module-as-a-script">Executing a module as a script</a></li>
  </ul></li>
  <li><a href="#namespaces" id="toc-namespaces" class="nav-link" data-scroll-target="#namespaces">Namespaces</a>
  <ul class="collapse">
  <li><a href="#dir-function" id="toc-dir-function" class="nav-link" data-scroll-target="#dir-function"><code>dir()</code> function</a></li>
  <li><a href="#builtin-namespace" id="toc-builtin-namespace" class="nav-link" data-scroll-target="#builtin-namespace"><code>builtin</code> namespace</a></li>
  <li><a href="#the-global-namespace" id="toc-the-global-namespace" class="nav-link" data-scroll-target="#the-global-namespace">The Global namespace</a></li>
  <li><a href="#the-local-namespace" id="toc-the-local-namespace" class="nav-link" data-scroll-target="#the-local-namespace">The local namespace</a></li>
  <li><a href="#the-enclosing-namespace" id="toc-the-enclosing-namespace" class="nav-link" data-scroll-target="#the-enclosing-namespace">The enclosing namespace</a></li>
  <li><a href="#scope-and-legb-rule" id="toc-scope-and-legb-rule" class="nav-link" data-scroll-target="#scope-and-legb-rule">Scope and LEGB rule</a></li>
  </ul></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a>
  <ul class="collapse">
  <li><a href="#package-initialization" id="toc-package-initialization" class="nav-link" data-scroll-target="#package-initialization">Package initialization</a></li>
  <li><a href="#importing-from-a-package" id="toc-importing-from-a-package" class="nav-link" data-scroll-target="#importing-from-a-package">Importing * from a package</a></li>
  <li><a href="#subpackages" id="toc-subpackages" class="nav-link" data-scroll-target="#subpackages">Subpackages</a></li>
  <li><a href="#regular-packages" id="toc-regular-packages" class="nav-link" data-scroll-target="#regular-packages">Regular packages</a></li>
  <li><a href="#namespace-packages" id="toc-namespace-packages" class="nav-link" data-scroll-target="#namespace-packages">Namespace packages</a></li>
  </ul></li>
  <li><a href="#searching" id="toc-searching" class="nav-link" data-scroll-target="#searching">Searching</a>
  <ul class="collapse">
  <li><a href="#the-module-cache" id="toc-the-module-cache" class="nav-link" data-scroll-target="#the-module-cache">The module cache</a></li>
  <li><a href="#challenge-puzzle" id="toc-challenge-puzzle" class="nav-link" data-scroll-target="#challenge-puzzle">Challenge puzzle</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#python-type-checking" id="toc-python-type-checking" class="nav-link" data-scroll-target="#python-type-checking">Python Type Checking</a>
  <ul class="collapse">
  <li><a href="#type-systems" id="toc-type-systems" class="nav-link" data-scroll-target="#type-systems">Type systems</a>
  <ul class="collapse">
  <li><a href="#dynamic-typing" id="toc-dynamic-typing" class="nav-link" data-scroll-target="#dynamic-typing">Dynamic typing</a></li>
  <li><a href="#static-type" id="toc-static-type" class="nav-link" data-scroll-target="#static-type">Static type</a></li>
  <li><a href="#duck-typing" id="toc-duck-typing" class="nav-link" data-scroll-target="#duck-typing">Duck Typing</a></li>
  <li><a href="#typing-module" id="toc-typing-module" class="nav-link" data-scroll-target="#typing-module"><code>typing</code> module</a></li>
  <li><a href="#function-annotations" id="toc-function-annotations" class="nav-link" data-scroll-target="#function-annotations">Function Annotations</a></li>
  </ul></li>
  <li><a href="#flattening-a-dict-of-dicts" id="toc-flattening-a-dict-of-dicts" class="nav-link" data-scroll-target="#flattening-a-dict-of-dicts">Flattening a <code>dict</code> of <code>dict</code>s</a></li>
  <li><a href="#list-in-python" id="toc-list-in-python" class="nav-link" data-scroll-target="#list-in-python"><code>list()</code> in Python</a></li>
  <li><a href="#reverse-a-list" id="toc-reverse-a-list" class="nav-link" data-scroll-target="#reverse-a-list">Reverse a list</a></li>
  <li><a href="#determine-if-the-list-is-a-palindrome" id="toc-determine-if-the-list-is-a-palindrome" class="nav-link" data-scroll-target="#determine-if-the-list-is-a-palindrome">Determine if the list is a palindrome</a></li>
  <li><a href="#flatten-a-nested-list" id="toc-flatten-a-nested-list" class="nav-link" data-scroll-target="#flatten-a-nested-list">Flatten a nested list</a></li>
  <li><a href="#eliminate-consecutive-duplicates-of-list-elements" id="toc-eliminate-consecutive-duplicates-of-list-elements" class="nav-link" data-scroll-target="#eliminate-consecutive-duplicates-of-list-elements">Eliminate consecutive duplicates of list elements</a></li>
  <li><a href="#list-comprehensions" id="toc-list-comprehensions" class="nav-link" data-scroll-target="#list-comprehensions">List comprehensions</a></li>
  <li><a href="#nested-list-comprehensions" id="toc-nested-list-comprehensions" class="nav-link" data-scroll-target="#nested-list-comprehensions">Nested List comprehensions</a></li>
  <li><a href="#tuples-in-python" id="toc-tuples-in-python" class="nav-link" data-scroll-target="#tuples-in-python"><code>tuple</code>s in Python</a></li>
  <li><a href="#sets-in-python" id="toc-sets-in-python" class="nav-link" data-scroll-target="#sets-in-python"><code>set</code>s in Python</a></li>
  <li><a href="#python-3.8-walrus-operator" id="toc-python-3.8-walrus-operator" class="nav-link" data-scroll-target="#python-3.8-walrus-operator">Python 3.8 walrus <code>:=</code> operator</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="data-model" class="level1">
<h1>Data Model</h1>
<p>Objects are Python’s abstraction for data. All data in a Python program is reresented by objects or relations between objects. Even code is represented by objects.</p>
<section id="object-values-and-types" class="level2">
<h2 class="anchored" data-anchor-id="object-values-and-types">Object values and Types</h2>
<p>Every object has an identity, type and value. An object’s <em>identity</em> never changes once it has been created; you may think of it as the object’s address in memory. The <code>is</code> operator compares the identity of two objects, the <code>id()</code> function returns an integer representing its identity.</p>
<p>For CPython, <code>id(x)</code> is the memory address where <code>x</code> is stored.</p>
<p>An object’s type determines the operations that the object supports (e.g.&nbsp;does it have a length?) and also defines the possible value for the objects of that type. The <code>type()</code> function returns an object’s type (which is an object itself).</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>x <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="bu">print</span>(<span class="ss">f"type(x) = </span><span class="sc">{</span><span class="bu">type</span>(x)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="bu">print</span>(<span class="ss">f"type(type(x)) = </span><span class="sc">{</span><span class="bu">type</span>(<span class="bu">type</span>(x))<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x = 42
type(x) = &lt;class 'int'&gt;
type(type(x)) = &lt;class 'type'&gt;</code></pre>
</div>
</div>
<p>The value of some objects can change. Objects whose value can change are said to be <em>mutable</em>; objects whose value is unchangeable once they are created are called <em>immutable</em>. (The value of an immutable container object that contains a reference to mutable object can change when the latter’s value is changed; however the container is still considered immutable, because the collection of objects it contains cannot be changed. So, immutability is not strictly the same thing as having an immuteable value, it is more subtle.) An object’s mutability is determined by its type; for instance, numbers, strings, and tuples are immutable, while dictionaries and lists are considered mutable.</p>
<p>Immutable types are always compared by identity. Mutable types are always compared by value.</p>
<p>Objects are never explicitly destroyed; however when they become unreachable they may be garbage collected. CPython currently uses a reference counting scheme with delayed detection of cyclically linked garbage, which collects most objects as soon as they become unreachable, but is not guaranteed to collect garbage containing circular references.</p>
<p>Note that, debug or tracing facilities may keep objects alive that would be normally collectable. <code>try...except</code> may keep objects alive.</p>
<p>Some objects contain references to external resources such as open files and windows. It is understood that these resources are freed when the object is garbage collected, but since GC is not guaranteed to happen, such objects also provide an explicit way to release the external resource, usually some kind of <code>close()</code> method. The <code>try...finally</code> and <code>with</code> statement provide convenient ways to do this.</p>
<p>Some objects contain references to other objects; these are called containers. Examples of containers are tuples, lists and dictionaries. When we talk about the value of the container, we imply the value of the contained objects.</p>
<p>For immutable types, operations that compute new values may actually return a reference to any existing object with the same type and value, while for mutable objects this is not allowed. For example, after <code>a = 1; b = 1</code>, <code>a</code> and <code>b</code> may or may not refer to the same object with the value one, depending on the implementation. This is because int is an immutable type, so the reference to 1 can be reused.</p>
</section>
<section id="built-in-types-in-python" class="level2">
<h2 class="anchored" data-anchor-id="built-in-types-in-python">Built-in Types in Python</h2>
<p>There is a core set of built-in types natively supported by Python runtime. The standard library defines additional types.</p>
<section id="none" class="level3">
<h3 class="anchored" data-anchor-id="none"><code>None</code></h3>
<p>This type has a single value. There is a single object with this value. It is used to signify the absence of a value in many situations. Its truth value is <code>False</code>.</p>
</section>
<section id="notimplemented" class="level3">
<h3 class="anchored" data-anchor-id="notimplemented"><code>NotImplemented</code></h3>
<p>This type has a single value. Again, there is a single object with this value.</p>
</section>
<section id="ellipsis" class="level3">
<h3 class="anchored" data-anchor-id="ellipsis">Ellipsis</h3>
<p>This type also has a single value and there is single object with this value. The object is accessed through the literal <code>...</code>. Its truth value is <code>True</code>.</p>
</section>
<section id="numbers" class="level3">
<h3 class="anchored" data-anchor-id="numbers">Numbers</h3>
<p>Python numbers are of course strongly related to mathematical numbers, but subject to the limitations of numerical representation in computers.</p>
<p>Numeric objects are immutable; once created their value never changes. Hence, they can be used as keys in a dictionary.</p>
<section id="integers-int" class="level4">
<h4 class="anchored" data-anchor-id="integers-int">Integers (<code>int</code>)</h4>
<p>These represent numbers in an unlimited range, subject to available virtual memory only. For the purpose of shift and mask operations, a binary representation is assumed, and negative numbers are represented in a variant of <span class="math inline">\(2\)</span>’s complement, which gives the illusion of an infinite string of sign bits extending to the left.</p>
<p>Integer-to-string conversion is limited to <span class="math inline">\(4,300\)</span> digits by default. This limitation aims to prevent DoS attacks that exploit the quadratic complexity of integer to string conversions.</p>
</section>
<section id="booleans-bool" class="level4">
<h4 class="anchored" data-anchor-id="booleans-bool">Booleans (<code>bool</code>)</h4>
<p>These represent the truth values <code>False</code> and <code>True</code>. The two objects representing the values <code>False</code> and <code>True</code> are the only Boolean objects.</p>
</section>
<section id="real-numbers-float" class="level4">
<h4 class="anchored" data-anchor-id="real-numbers-float">Real numbers (<code>float</code>)</h4>
<p>These represent IEEE-754 double-precision 64-bit floating point numbers.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="im">import</span> sys</span>
<span id="cb3-2"><a href="#cb3-2"></a>sys.float_info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>sys.float_info(max=1.7976931348623157e+308, max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16, radix=2, rounds=1)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="bu">print</span>(<span class="ss">f"float_info.max = </span><span class="sc">{</span>sys<span class="sc">.</span>float_info<span class="sc">.</span><span class="bu">max</span><span class="sc">}</span><span class="ss">, float_info.min = </span><span class="sc">{</span>sys<span class="sc">.</span>float_info<span class="sc">.</span><span class="bu">min</span><span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>float_info.max = 1.7976931348623157e+308, float_info.min = 2.2250738585072014e-308</code></pre>
</div>
</div>
<p>Note that <code>float</code> represents infinity as <code>inf</code>, which is considered larger than any numerical value.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="bu">print</span>(<span class="bu">float</span>(<span class="st">'inf'</span>) <span class="op">&gt;</span> sys.float_info.<span class="bu">max</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
</div>
</section>
<section id="complex-numbers-complex" class="level4">
<h4 class="anchored" data-anchor-id="complex-numbers-complex">Complex numbers (<code>complex</code>)</h4>
<p>These represent com plex numbers as a pair of double-precision floating-point numbers. The real and imaginary parts of a complex number <code>z</code> can be retrieved through the read-only attributes <code>z.real</code> and <code>z.imag</code>.</p>
</section>
</section>
<section id="sequences" class="level3">
<h3 class="anchored" data-anchor-id="sequences">Sequences</h3>
<p>These represent finite ordered sets indexed by non-negative numbers. The built-in function <code>len()</code> returns the number of items of a sequence. When the length of a sequence is <span class="math inline">\(n\)</span>, the index set contains the numbers <span class="math inline">\(0,1,\ldots,n-1\)</span>. Item <span class="math inline">\(i\)</span> of a sequence <span class="math inline">\(a\)</span> is selected by <span class="math inline">\(a[i]\)</span>. Some sequences including built-in sequences interpret negative subscripts by adding the sequence length. For example, <code>a[-2]</code> means <code>a[n-2]</code>, the second to last item of a sequence <code>a</code> of length <code>n</code>.</p>
<p>Sequences also support slicing. <code>a[i:j:k]</code> selects all items with index <code>x</code> where <code>x = i + nk</code>, <span class="math inline">\(0 \leq x &lt; j\)</span>, <span class="math inline">\(n \geq 0\)</span>.</p>
<section id="immutable-sequences" class="level4">
<h4 class="anchored" data-anchor-id="immutable-sequences">Immutable sequences</h4>
<p>An object of an immutable sequence type cannot change once it is created. (If an object contains references to other objects, these other objects may be mutable and may be changed; however the collection of objects directly referenced by an immutable object cannot change.)</p>
<section id="strings" class="level5">
<h5 class="anchored" data-anchor-id="strings">Strings</h5>
<p>A string is a sequence of values that represent unicode code points. Python doesn’t have a <code>char</code> type.</p>
</section>
<section id="tuples" class="level5">
<h5 class="anchored" data-anchor-id="tuples">Tuples</h5>
<p>The items of a <code>tuple</code> are arbitrary python objects. Tuple of two or more items are formed by comma separated list of expression. An empty tuple can be formed by a empty pair of parentheses.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">import</span> sys</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw">def</span> empty_tuple_example():</span>
<span id="cb9-4"><a href="#cb9-4"></a>    t <span class="op">=</span> ()</span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="bu">print</span>(<span class="ss">f"Empty tuple size = </span><span class="sc">{</span>sys<span class="sc">.</span>getsizeof(t)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a>    </span>
<span id="cb9-7"><a href="#cb9-7"></a>empty_tuple_example()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Empty tuple size = 40</code></pre>
</div>
</div>
</section>
<section id="bytes" class="level5">
<h5 class="anchored" data-anchor-id="bytes">Bytes</h5>
<p>A bytes object is an immutable array. The items are <span class="math inline">\(8\)</span>-bit bytes, represented in the range <span class="math inline">\(0 \leq x &lt; 256\)</span>. Bytes literals like <code>b'abc'</code> and the <code>bytes()</code> constructor can be used to create bytes objects.</p>
</section>
</section>
<section id="mutable-sequences" class="level4">
<h4 class="anchored" data-anchor-id="mutable-sequences">Mutable sequences</h4>
<p>Mutable sequences can be changed after they are created. The subscript and slicing notations can be used as a target of assignment and <code>del</code> (delete) statements.</p>
<p>There are currently two intrinsic mutable sequence types:</p>
<ul>
<li>Lists : The items of a list are arbitrary Python objects. Lists are formed by a comma separated list of expressions inside square brackets.</li>
<li>Byte Arrays : A <code>bytearray</code> object is mutable array. It is created by the built-in <code>bytearray()</code> constructor. Aside from being mutable, byte arrays provide the same interface and functionality as immutable <code>bytes</code> objects.</li>
</ul>
<p>Since <code>list</code>s and <code>bytearray</code>s are mutable, they are unhashable.</p>
</section>
</section>
<section id="set-types" class="level3">
<h3 class="anchored" data-anchor-id="set-types">Set types</h3>
<p>These represent unorderd, finite sets of unique elements. As such they cannot be indexed by a subscript. However, they can be iterated over, and the built-in function <code>len()</code> returns the number of items in a set. Common uses of sets are fast membership testing, removing duplicates from a sequence, computing mathematicl operations such as intersection, union, difference and symmetric difference.</p>
<p>Note that, if two numbers compare equal (e.g.&nbsp;<code>1</code> and <code>1.0</code>) only one of them can be contained in a set.</p>
<p>There are currently two intrinsic set types:</p>
<section id="sets" class="level4">
<h4 class="anchored" data-anchor-id="sets">Sets</h4>
<p>They represent a mutable set. They are created by the <code>set()</code> constructor and can be modified by methods such as <code>add</code>.</p>
</section>
<section id="frozen-sets" class="level4">
<h4 class="anchored" data-anchor-id="frozen-sets">Frozen Sets</h4>
<p>These represent an immutable set. They are created by the built-in <code>frozenset()</code> constructor. As a <code>frozenset</code> is immutable and hashable, it can be used again as an element of another set, or as a dictionary key.</p>
</section>
</section>
<section id="mappings" class="level3">
<h3 class="anchored" data-anchor-id="mappings">Mappings</h3>
<p>These represent finite sets of objects indexed by arbitrary index sets. The subscript notation <code>a[k]</code> selects the item indexed by <code>k</code> from the mapping <code>a</code>.</p>
<p>There is currently a single intrinsic mapping type: <code>dict</code>.</p>
<section id="dictionaries" class="level4">
<h4 class="anchored" data-anchor-id="dictionaries">Dictionaries</h4>
<p>They represent key-value pairs <span class="math inline">\(\texttt{key}\mapsto \texttt{value}\)</span> or a set of mappings. <code>key</code> can be any immutable type. Thus, numeric types (<code>int</code>, <code>bool</code>, <code>float</code>, <code>complex</code>), immutable sequence types (<code>str</code>, <code>tuple</code>, <code>bytes</code>) immutable set type (<code>frozenset</code>) can be used as dictionary keys. The only things not acceptable as keys are values containing lists or dictionaries or other mutable types that are compared by value rather than object identity. The reason for this is that an efficient implementation of dictionaries requires a key’s hash vaue to remain constant. Numeric types used for keys obey normal rules for numeric comparision: if two numbers compare equal (e.g.&nbsp;<code>1</code> and <code>1.0</code>) then they can be used interchangeably.</p>
<p>Dictionaries preserve insertion order, meaning that keys will be produced in the same order they were added sequentially over the ddictionary. Replacing an existing key does not change the order. Removing a key and re-inserting it will add to the end instead of keeping its old place.</p>
<p>Dictionaries are mutable; they can be created by the <code>{}</code> noteation.</p>
</section>
</section>
<section id="callable-types" class="level3">
<h3 class="anchored" data-anchor-id="callable-types">Callable types</h3>
<p>These are the types to which the function call operation can be applied.</p>
<section id="user-defined-functions" class="level4">
<h4 class="anchored" data-anchor-id="user-defined-functions">User-defined functions</h4>
<p>A user-defined function object is created by a function definition.</p>
</section>
<section id="instance-methods" class="level4">
<h4 class="anchored" data-anchor-id="instance-methods">Instance methods</h4>
<p>An instance method object combines a class, a class instance and any callable object(normally a user-defined function).</p>
</section>
<section id="generator-functions" class="level4">
<h4 class="anchored" data-anchor-id="generator-functions">Generator functions</h4>
<p>A function or method which uses the <code>yield</code> statement is called a <em>generator</em> function. Such a function, when called always returns an <em>iterator</em> object, which can then be used to execute the body of the function: calling the iterator’s <code>iterator.__next__()</code> method will cause the function to execute until it provides a value using the <code>yield</code> statement. When the function executes the <code>return</code> statement or falls off the end, a <code>StopIteration</code> exception is raise and the iterator will have reached the end of the set of values to be returned.</p>
</section>
<section id="coroutine-functions" class="level4">
<h4 class="anchored" data-anchor-id="coroutine-functions">Coroutine functions</h4>
<p>A function or method which is defined using <code>async_def</code> is called a <em>coroutine function</em>. A coroutine is any function that can be paused in the middle. Such a function, when called, returns a <strong>coroutine</strong> object. It may contain <code>await</code> expressions, as well as <code>async_with</code> and <code>async_for</code> statements.</p>
</section>
<section id="asynchronous-generator-functions" class="level4">
<h4 class="anchored" data-anchor-id="asynchronous-generator-functions">Asynchronous generator functions</h4>
<p>A function or method which is defined using the <code>async_def</code> and which uses the <code>yield</code> statement is called a <em>asynchronous generator function.</em> Such a function, when called, returns an <strong>asynchronous iterator</strong> object which can be used in an <code>async_for</code> statement to execute the body of the function.</p>
<p>Calling the asynchronous iterator’s <code>aiterator.__anext__()</code> method will return an awaitable which when awaited will execute until it provides a value using the <code>yield</code> expression. When the function executes an empty <code>return</code> statement or falls off the end, a <code>StopAsyncIteration</code> exception is raised and the asynchronous iterator will have reached the end of the values to be yielded.</p>
</section>
<section id="built-in-functions" class="level4">
<h4 class="anchored" data-anchor-id="built-in-functions">Built-in functions</h4>
<p>A built-in function object is a wrapper around a C function. Examples of built-in unctions are <code>len()</code>, <code>zip()</code> etc.</p>
</section>
<section id="built-in-methods" class="level4">
<h4 class="anchored" data-anchor-id="built-in-methods">Built-in methods</h4>
<p>This is really a different disguise of a built-in function, this time containing an object passed to the C function as an implicit extra argument. An example of a built-in method is <code>.append()</code> on a list object.</p>
</section>
<section id="classes" class="level4">
<h4 class="anchored" data-anchor-id="classes">Classes</h4>
<p>Classes are callable. These object normally act as factories for new instances of themselves, but variations are possible for class types that override <code>__new__()</code>.</p>
</section>
</section>
<section id="modules" class="level3">
<h3 class="anchored" data-anchor-id="modules">Modules</h3>
<p>The most basic organization unit of code in Python is a module. Python code in one module gains access to the code in another module by the process of importing it.</p>
</section>
</section>
<section id="special-method-names" class="level2">
<h2 class="anchored" data-anchor-id="special-method-names">Special method names</h2>
<p>A class can implement certain operations that are invoked by special syntax (such as arithmetic operations, subscripting or slicing). This is Python’s approach to operator overloading : allowing classes to define their own behavior w.r.t language operators. For example, if a class defines a method <code>__getitem__(self, pos)</code> and <code>x</code> is an instance of the class, <code>x[i]</code> is roughly equivalent to <code>x.__getitem__(pos)</code>.</p>
<p>Setting a special method to <code>None</code> means that the operation is not available.</p>
<section id="basic-customization" class="level3">
<h3 class="anchored" data-anchor-id="basic-customization">Basic customization</h3>
<section id="new__cls..." class="level4">
<h4 class="anchored" data-anchor-id="new__cls..."><code>__new__(cls,...)</code></h4>
<p>This method is called to create a new instance of the class <code>cls</code>. <code>__new__()</code> is mainly intended to allow subclasses of immutable types(like <code>int</code>, <code>str</code>, <code>tuple</code>) to customize instance creation. If <code>__new__()</code> does not return an instance of <code>cls</code>, then the new instance’s <code>__init__()</code> method won’t be invoked.</p>
</section>
<section id="init__self..." class="level4">
<h4 class="anchored" data-anchor-id="init__self..."><code>__init__(self,...)</code></h4>
<p>This method is called after the instance has been created by <code>__new__()</code>, but before it is returned to the caller. The arguments of <code>__init__()</code> are those passed to the class constructor and are typically used to initialize member-data of the class.</p>
<p>If a base class has an <code>__init__()</code> method, the derived class’s <code>__init__()</code> method must explicitly call it to ensure proper initialization of the base class member data using <code>super().__init__([args...])</code>.</p>
</section>
<section id="object.__del__self" class="level4">
<h4 class="anchored" data-anchor-id="object.__del__self"><code>object.__del__(self)</code></h4>
<p>This method is called when the instance is about to be destroyed. This is also the so called finalizer or destructor. If a base class has a <code>__del__()</code> method, the derived class’ <code>__del__()</code> method, if any, must explicitly call the base class’ <code>__del__()</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>del x</code> doesn’t directly call <code>x.__del__()</code> - the former decrements the reference count for <code>x</code> by one, and the latter is only called when <code>x</code>’s reference count reaches zero.</p>
</div>
</div>
</section>
<section id="object.__repr__self" class="level4">
<h4 class="anchored" data-anchor-id="object.__repr__self"><code>object.__repr__(self)</code></h4>
<p>This method is called by the <code>repr()</code> built-in function to compute the official string representation of the object.</p>
</section>
<section id="object.__str__self" class="level4">
<h4 class="anchored" data-anchor-id="object.__str__self"><code>object.__str__(self)</code></h4>
<p>This method is called by the <code>str(object)</code>, the default <code>__format__()</code> implementation and the built-in function <code>print()</code></p>
</section>
<section id="object.__lt__self-other-and-friends" class="level4">
<h4 class="anchored" data-anchor-id="object.__lt__self-other-and-friends"><code>object.__lt__(self, other)</code> and friends</h4>
<p>These are the so-called rich-comparison methods. The correspondence between operator symbols and method names is as follows: <code>x&lt;y</code> calls <code>x.__lt__(y)</code>, <code>x&lt;=y</code> calls <code>x.__le__(y)</code>, <code>x==y</code> calls <code>x.__eq__(y)</code>, <code>x!=y</code> calls <code>x.__ne__(y)</code>, <code>x&gt;y</code> calls <code>x.__gt__(y)</code>, and <code>x&gt;=y</code> calls <code>x.__ge__(y)</code>.</p>
</section>
<section id="object.__hash__self-int" class="level4">
<h4 class="anchored" data-anchor-id="object.__hash__self-int"><code>object.__hash__(self)-&gt;int</code></h4>
<p>The <code>__hash__()</code> method should return an integer. Objects that compare equal in value, must have the same hash value.</p>
<p>User-defined classes have <code>__eq__()</code> and <code>__hash__()</code> methods by default (inherited from the <code>object</code> class); with them, all objects compare unequal (except themselves) and <code>x.__hash__()</code> returns an appropriate value such that <code>x == y</code> implies both that <code>x is y</code> and <code>hash(x) == hash(y)</code>.</p>
</section>
</section>
</section>
<section id="special-attributes" class="level2">
<h2 class="anchored" data-anchor-id="special-attributes">Special attributes</h2>
<section id="object.__dict__" class="level3">
<h3 class="anchored" data-anchor-id="object.__dict__"><code>object.__dict__</code></h3>
<p>A dictionary</p>
</section>
</section>
</section>
<section id="modules-and-packages" class="level1">
<h1>Modules and Packages</h1>
<section id="the-import-statement" class="level2">
<h2 class="anchored" data-anchor-id="the-import-statement">The <code>import</code> statement</h2>
<section id="import-module_name" class="level3">
<h3 class="anchored" data-anchor-id="import-module_name"><code>import &lt;module_name&gt;</code></h3>
<p>When Python executes the statement</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="im">import</span> foo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>it searches for <code>foo.py</code> in a list of directories:</p>
<ul>
<li>Module Cache <code>sys.modules</code></li>
<li>Current directory</li>
<li>List of directories contained in the <code>PYTHONPATH</code> environment variable.</li>
</ul>
<p>Note that <code>import &lt;module_name&gt;</code> does not make the module contents directly accessible to the caller. A module creates a separate namespace.</p>
<p>The statement <code>import &lt;module_name&gt;</code> only places the <code>&lt;module_name&gt;</code> in the caller’s symbol table. The objects that are defined in the module remain in the module’s <em>private symnol table</em>.</p>
<p>From the caller, objects in the module are only accessible when prefixed with the <code>&lt;module_name&gt;</code> using the dot notation.</p>
<p>When a module is first imported, Python searches for the module and if found, it creates a module object, initializing it. If the named module cannot be found, a <code>ModuleNotFoundError</code> is raised. Python employs various strategies to search for the module when the <code>import</code> machinery is invoked.</p>
</section>
<section id="from-package_name-import-module_name" class="level3">
<h3 class="anchored" data-anchor-id="from-package_name-import-module_name"><code>from &lt;package_name&gt; import &lt;module_name&gt;</code></h3>
<p>An alternate form of the <code>import</code> statement allows individual objects from the module to be imported directly into the caller’s symbol table:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="im">from</span> <span class="op">&lt;</span>package_name<span class="op">&gt;</span> <span class="im">import</span> <span class="op">&lt;</span>module_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># mod.py</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>s <span class="op">=</span> <span class="st">"Impossible is the word in the dictionary of fools."</span></span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="kw">def</span> foo(arg):</span>
<span id="cb13-5"><a href="#cb13-5"></a>    <span class="bu">print</span>(<span class="ss">f"arg = </span><span class="sc">{</span>arg<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="kw">class</span> Foo:</span>
<span id="cb13-8"><a href="#cb13-8"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb13-9"><a href="#cb13-9"></a>        <span class="cf">pass</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>        </span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co"># main.py</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="im">from</span> mod <span class="im">import</span> s, foo</span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="bu">print</span>(<span class="ss">f"s : </span><span class="sc">{</span>s<span class="sc">}</span><span class="ss">"</span>)   </span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co"># s : "Impossible is the word in the dictionary of fools."</span></span>
<span id="cb13-15"><a href="#cb13-15"></a></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>foo(<span class="st">'qux'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co"># arg = qux</span></span>
<span id="cb13-18"><a href="#cb13-18"></a></span>
<span id="cb13-19"><a href="#cb13-19"></a><span class="im">from</span> mod <span class="im">import</span> Foo</span>
<span id="cb13-20"><a href="#cb13-20"></a>x <span class="op">=</span> Foo()</span>
<span id="cb13-21"><a href="#cb13-21"></a>x</span>
<span id="cb13-22"><a href="#cb13-22"></a><span class="co"># &lt;mod.Foo object at 0x02E3AD50&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Because this form of <code>import</code> places the object names directly into the caller’s symbol table, any objects that already exist with the same name will be overwritten.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># mod.py</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>a <span class="op">=</span> [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>]</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co"># main.py</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>a <span class="op">=</span> [<span class="st">'foo'</span>,<span class="st">'bar'</span>,<span class="st">'baz'</span>]</span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="im">from</span> mod <span class="im">import</span> a</span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="bu">print</span>(<span class="ss">f"a = </span><span class="sc">{</span>a<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co"># a = [100, 200, 300]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="import-module_name-as-alt_name" class="level3">
<h3 class="anchored" data-anchor-id="import-module_name-as-alt_name"><code>import &lt;module_name&gt; as &lt;alt_name&gt;</code></h3>
<p>You can also import an entire module uner an alternate name:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="im">import</span> <span class="op">&lt;</span>module_name<span class="op">&gt;</span> <span class="im">as</span> <span class="op">&lt;</span>alt_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example, if we do <code>import numpy as np</code> then any symbol such as <code>sum()</code> will be added to the caller’s symbol table as <code>np.sum()</code>.</p>
<p>Module contents can be imported from within a function definition. In that case, the <code>import</code> does not occur until the function is executed.</p>
</section>
<section id="executing-a-module-as-a-script" class="level3">
<h3 class="anchored" data-anchor-id="executing-a-module-as-a-script">Executing a module as a script</h3>
<p>Any .py file that contains a module is also a python script and you can execute using <code>python &lt;my_module&gt;.py</code>.</p>
<p>We can distinguish between when the file is loaded as a module and when it is run as a standalone script. When a .py file is imported as a module, Python sets the special <em>dunder</em> variable <code>__name__</code> to the name of the module. However, if the file is run as a standalone script, <code>__name__</code> is set to the string <code>__main__</code>.</p>
<p>Modules are often designed with the capability to run as a standalone script for the purposes of testing the functionaility that is contained within the module. This is called <em>unit testing</em>.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="kw">def</span> sum_arr(arr: List[<span class="bu">float</span>]) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb16-4"><a href="#cb16-4"></a>    result <span class="op">=</span> <span class="bu">sum</span>(x <span class="cf">for</span> x <span class="kw">in</span> arr)</span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="cf">return</span> result</span>
<span id="cb16-6"><a href="#cb16-6"></a>    </span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb16-8"><a href="#cb16-8"></a>    <span class="cf">assert</span> sum_arr([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]) <span class="op">==</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="namespaces" class="level2">
<h2 class="anchored" data-anchor-id="namespaces">Namespaces</h2>
<p>A python namespace is a mapping from names to objects. A namespace is like a container that holds the currently defined symbolic names and the objects each name references. You can think of a namespace as a dictionary, in which the keys are the object names and the values are the objects themselves. Each key-value pair maps a name to its corresponding object.</p>
<p>Namespaces let you use the same name in different contexts without collisions. It’s like giving everything its own little room in a well-organized house.</p>
<section id="dir-function" class="level3">
<h3 class="anchored" data-anchor-id="dir-function"><code>dir()</code> function</h3>
<p>The built-in function <code>dir()</code> returns a list of defined names in a namespace.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="bu">dir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>['In',
 'List',
 'Out',
 '_',
 '_2',
 '__',
 '___',
 '__builtin__',
 '__builtins__',
 '__name__',
 '_dh',
 '_i',
 '_i1',
 '_i2',
 '_i3',
 '_i4',
 '_i5',
 '_i6',
 '_i7',
 '_ih',
 '_ii',
 '_iii',
 '_oh',
 'empty_tuple_example',
 'exit',
 'get_ipython',
 'ojs_define',
 'open',
 'quit',
 'sum_arr',
 'sys',
 'x']</code></pre>
</div>
</div>
<p>There are <span class="math inline">\(4\)</span> different types of namespaces:</p>
<ul>
<li>Built-in</li>
<li>Global</li>
<li>Local</li>
<li>Enclosing or non-local</li>
</ul>
<p>These namespaces have differing lifetimes. As Python executes a program, it creates namespaces as necessary and removes them when it no longer needs them. Typically, many namespaces will exist at any given time.</p>
<p>The global, local and enclosing namespaces are implemented as dictionaries. In contrast, the built-in namespace isn’t a dictionary, but a module called <code>builtins</code>.</p>
</section>
<section id="builtin-namespace" class="level3">
<h3 class="anchored" data-anchor-id="builtin-namespace"><code>builtin</code> namespace</h3>
<p>The <strong>built-in</strong> namespace contains the names of all Python’s built-in objects. This namespace is available when the python interpreter is running. So, you can access the names in this namespace at any time in your code without explicitly importing them.</p>
<p>You can list the objects in the built-in namespace with the <code>dir()</code> function using <code>__builtins__</code> as an argument:</p>
<pre><code>dir(__builtins__)</code></pre>
<p>Things like built-in exceptions, built-in functions, built-in data types live in this namespace.</p>
</section>
<section id="the-global-namespace" class="level3">
<h3 class="anchored" data-anchor-id="the-global-namespace">The Global namespace</h3>
<p>The global namespace contains names defined at the module level. Python creates a main global namespace when the main program’s body starts. This namespace remains in existence until the interpreter terminates.</p>
<p>Additionally, each module has its own global namespace. The interpreter creates a global namespace for any module your program loads with the <code>import</code> statement.</p>
</section>
<section id="the-local-namespace" class="level3">
<h3 class="anchored" data-anchor-id="the-local-namespace">The local namespace</h3>
<p>The python interpreter creates a new and dedicated namespace whenever you call a function. The namespace is local to the function and exists only until the function returns:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource shell number-lines code-with-copy"><code class="sourceCode"><span id="cb20-1"><a href="#cb20-1"></a>&gt;&gt;&gt; def double_number(number: int) -&gt; int:</span>
<span id="cb20-2"><a href="#cb20-2"></a>...     result = 2 * number</span>
<span id="cb20-3"><a href="#cb20-3"></a>...     print(dir())</span>
<span id="cb20-4"><a href="#cb20-4"></a>...     return result</span>
<span id="cb20-5"><a href="#cb20-5"></a>... </span>
<span id="cb20-6"><a href="#cb20-6"></a>&gt;&gt;&gt; double_number(4)</span>
<span id="cb20-7"><a href="#cb20-7"></a>['number', 'result']</span>
<span id="cb20-8"><a href="#cb20-8"></a>8</span>
<span id="cb20-9"><a href="#cb20-9"></a>&gt;&gt;&gt; result</span>
<span id="cb20-10"><a href="#cb20-10"></a>Traceback (most recent call last):</span>
<span id="cb20-11"><a href="#cb20-11"></a>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;</span>
<span id="cb20-12"><a href="#cb20-12"></a>    result</span>
<span id="cb20-13"><a href="#cb20-13"></a>NameError: name 'result' is not defined</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-enclosing-namespace" class="level3">
<h3 class="anchored" data-anchor-id="the-enclosing-namespace">The enclosing namespace</h3>
<p>You can also define one function inside the other. In this case, you’d have what’s known as an inner function. In this case, you’d have what is known as an inner function.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>global_variable <span class="op">=</span> <span class="st">"global"</span></span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="kw">def</span> outer_func():</span>
<span id="cb21-4"><a href="#cb21-4"></a>    <span class="co"># Non local scope</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>    nonlocal_var <span class="op">=</span> <span class="st">"nonlocal"</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="kw">def</span> inner_func():</span>
<span id="cb21-7"><a href="#cb21-7"></a>        <span class="co"># Local scope</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>        local_variable <span class="op">=</span> <span class="st">"local"</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>        <span class="bu">print</span>(<span class="ss">f"Hi from the '</span><span class="sc">{</span>local_variable<span class="sc">}</span><span class="ss">' scope!"</span>)</span>
<span id="cb21-10"><a href="#cb21-10"></a>        <span class="bu">print</span>(<span class="ss">f"Hi from the '</span><span class="sc">{</span>nonlocal_var<span class="sc">}</span><span class="ss">' scope!"</span>)    </span>
<span id="cb21-11"><a href="#cb21-11"></a>        <span class="bu">print</span>(<span class="ss">f"Hi from the '</span><span class="sc">{</span>global_variable<span class="sc">}</span><span class="ss">' scope!"</span>)            </span>
<span id="cb21-12"><a href="#cb21-12"></a>        </span>
<span id="cb21-13"><a href="#cb21-13"></a>    inner_func()</span>
<span id="cb21-14"><a href="#cb21-14"></a>    </span>
<span id="cb21-15"><a href="#cb21-15"></a>outer_func()        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hi from the 'local' scope!
Hi from the 'nonlocal' scope!
Hi from the 'global' scope!</code></pre>
</div>
</div>
<p>In this example, we first created a global variable at the module level. Then, we defined a function called <code>outer_func()</code>. Inside this function, we have a <code>nonlocal_var</code>, which is local to <code>outer_func()</code>, but non-local to <code>inner_func()</code>. In <code>inner_func()</code>, we create another variable called <code>local_variable</code>, which is local to the function itself.</p>
<p>Each of these namespaces remains in existence until the respective function returns. Python might not immediately reclaim the memory allocated for those namespaces, but all references to the objects become invalid.</p>
</section>
<section id="scope-and-legb-rule" class="level3">
<h3 class="anchored" data-anchor-id="scope-and-legb-rule">Scope and LEGB rule</h3>
<p>The existence of multiple, distinct namespaces allows you to have several different instances of a particular name simultaneously while a Python program runs. As long as each instance is in a different namespace, they’re all maintained separately and won’t interfere with one another.</p>
<p>That raises a question. Suppose you refer to the name <code>x</code> in your code, and <code>x</code> exists in several namespaces. How does Python know which one you mean each time?</p>
<p>Python looks for <code>x</code> in the following order:</p>
<p><span class="math display">\[
\text{Local} \longrightarrow \text{Enclosed} \longrightarrow \text{Global} \longrightarrow \text{Built-in}
\]</span></p>
<p>The below code snip agree’s with our intuitive understanding of global and local variables.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>x <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb23-3"><a href="#cb23-3"></a></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="kw">def</span> f():</span>
<span id="cb23-5"><a href="#cb23-5"></a>    x <span class="op">=</span> <span class="dv">17</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>    <span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb23-7"><a href="#cb23-7"></a>    </span>
<span id="cb23-8"><a href="#cb23-8"></a>f()</span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x = 42
x = 17
x = 42</code></pre>
</div>
</div>
<p>If we want to modify the value of the global variable <code>x</code> from within <code>f</code>, we can use the <code>global</code> keyword.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>x <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-3"><a href="#cb25-3"></a></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="kw">def</span> f():</span>
<span id="cb25-5"><a href="#cb25-5"></a>    <span class="kw">global</span> x</span>
<span id="cb25-6"><a href="#cb25-6"></a>    x <span class="op">=</span> <span class="dv">17</span></span>
<span id="cb25-7"><a href="#cb25-7"></a>    <span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-8"><a href="#cb25-8"></a>    </span>
<span id="cb25-9"><a href="#cb25-9"></a>f()</span>
<span id="cb25-10"><a href="#cb25-10"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x = 42
x = 17
x = 17</code></pre>
</div>
</div>
<p>Similarly, when we have nested functions, we can use the <code>nonlocal</code> keyword.</p>
</section>
</section>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">Packages</h2>
<p>To help organize modules and provide a naming hierarchy, Python has a concept of packages. You can think of packages as the directories on a file sytem and modules as files within directories, but don’t take this analogy too literally, since packages and modules need not originate from the file system. For the purposes of this blog note, we’ll use this convenient analogy of directories and files. Like file system directories, packages are organized hierarchically, and packages may themselves contain subpackages as well as regular modules.</p>
<p>Its important to keep in mind that all packages are modules, but not all modules are packages. Or put another way, packages are just a special kind of module. Specifically, any module that contains a <code>__path__</code> attribute is considered a package.</p>
<p>All modules have a name. Subpackage names are separated from their parent package name by a dot, akin to Python’s standard attribute access syntax.</p>
<p><code>import pkg</code> only places the name <code>pkg</code> in the caller’s symbol table and doesn’t import any modules.</p>
<section id="package-initialization" class="level3">
<h3 class="anchored" data-anchor-id="package-initialization">Package initialization</h3>
<p>If a file named <code>__init__.py</code> is present in the package directory, it is invoked when the package or a module in the package is imported. <code>__init__.py</code> can be used to effect automatic importing of modules from a package.</p>
<p>Earlier, we saw that the <code>import pkg</code> statement only places the name <code>pkg</code> in the caller’s symbol table and doesn’t import any modules. But, if <code>__init__.py</code> in the <code>pkg</code> directory contains the following:</p>
<pre><code># __init__.py
print(f"Invoking __init__.py for {__name__}")
import pkg.mod1, pkg.mod2</code></pre>
<p>Then when you execute <code>import pkg</code>, modules <code>mod1</code> and <code>mod2</code> are automatically imported.</p>
</section>
<section id="importing-from-a-package" class="level3">
<h3 class="anchored" data-anchor-id="importing-from-a-package">Importing * from a package</h3>
<p>When <code>import *</code> is used for a module, all objects form the module are imported into the local symbol table, except those whose names begin with an underscore.</p>
<p>The analogous statement for a package is:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="im">from</span> <span class="op">&lt;</span>package_name<span class="op">&gt;</span> <span class="im">import</span> <span class="op">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What does that do? Not much! Python follows the following convention. If the <code>__init__.py</code> file in the package directory contains a list name <code>__all__</code>, it taken to be a list of modules that should be imported when the statement <code>from &lt;package_name&gt; import *</code> is encountered.</p>
</section>
<section id="subpackages" class="level3">
<h3 class="anchored" data-anchor-id="subpackages">Subpackages</h3>
<p>Packages can contain nested packages to arbitrary depth. Consider</p>
<pre><code>/pkg
    __init__.py
    /sub_pkg_1
        __init__.py
        mod_in_sub_pkg_1.py
    /sub_pkg_2
        __init__.py
        mod_in_sub_pkg_2.py</code></pre>
<p>We can use both absolute imports and relative imports.</p>
<ul>
<li>Absolute imports use the fully qualified name.</li>
<li><code>..</code> evaluates to the parent package</li>
<li><code>...&lt;some_sub_pkg&gt;</code> evaluates to some sub-package of the parent package.</li>
</ul>
</section>
<section id="regular-packages" class="level3">
<h3 class="anchored" data-anchor-id="regular-packages">Regular packages</h3>
<p>Python defines two types of packages : regular packages and namespace packages. Regular packages are traditional packages as they existed in Python 3.2 and earlier. A regular package is typically implemented as a directory containing an <code>__init__.py</code> file. When a regular package is imported, this <code>__init__.py</code> is executed and the objects it defines are bound to the names in the package’s namespace.</p>
<p>Consider the following file-system layout that defines a top level <code>parent</code> package with three <code>subpackages</code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource shell number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1"><a href="#cb30-1"></a>parent/</span>
<span id="cb30-2"><a href="#cb30-2"></a>    __init__.py</span>
<span id="cb30-3"><a href="#cb30-3"></a>    one/</span>
<span id="cb30-4"><a href="#cb30-4"></a>        __init__.py</span>
<span id="cb30-5"><a href="#cb30-5"></a>    two/</span>
<span id="cb30-6"><a href="#cb30-6"></a>        __init__.py</span>
<span id="cb30-7"><a href="#cb30-7"></a>    three/</span>
<span id="cb30-8"><a href="#cb30-8"></a>        __init__.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Importing <code>parent.one</code> will implicitly execute <code>parent/__init__.py</code> and <code>/parent/one/__init__.py</code>. Subsequent imports of <code>parent.two</code> and <code>parent.three</code> will execute <code>parent/two/__init__.py</code> and <code>parent/three/__init__.py</code> respectively.</p>
</section>
<section id="namespace-packages" class="level3">
<h3 class="anchored" data-anchor-id="namespace-packages">Namespace packages</h3>
<p>A namespace package is a composite of various portions where each portion contributes a subpackage to the parent package. Portions may reside in different locations of the file system.</p>
</section>
</section>
<section id="searching" class="level2">
<h2 class="anchored" data-anchor-id="searching">Searching</h2>
<p>To begin searching, Python needs the fully qualified name of the module (or package, but for the purposes of this blog note, the difference is immaterial) being imported.</p>
<p>The fully qualified name will be used in various phases of the import search, and it may be dotted path to the submodule e.g.&nbsp;<code>foo.bar.baz</code>. In this case, Python first tries to import <code>foo</code>, then <code>foo.bar</code> and then finally <code>foo.bar.baz</code>. If any of the intermediate imports fail, a <code>ModuleNotFoundError</code> is raised.</p>
<section id="the-module-cache" class="level3">
<h3 class="anchored" data-anchor-id="the-module-cache">The module cache</h3>
<p>The first place checked during import search is <code>sys.modules</code>. This mapping serves as a cache of all modules that have been previously imported, including the intermediate paths. So, if <code>foo.bar.baz</code> was previously imported, <code>sys.modules</code> will contain entries for <code>foo</code>, <code>foo.bar</code> and <code>foo.bar.baz</code>. Each key will have as its value the corresponding module object.</p>
<p>If module A imports module B, and module B then tries to import module A, Python won’t re-import A. Since A’s name is aleady present in <code>sys.modules</code> (even though module object is not fully loaded yet), the import system simply returns the existing (but partially initialized) module instead of loading it again.</p>
</section>
<section id="challenge-puzzle" class="level3">
<h3 class="anchored" data-anchor-id="challenge-puzzle">Challenge puzzle</h3>
<p>What is printed when you run <code>python main.py</code>? Note that the comment delineate separate files.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># alpha.py</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="bu">print</span>(<span class="st">"alpha"</span>, end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="im">import</span> beta</span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="bu">print</span>(<span class="st">"X"</span>, end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb31-5"><a href="#cb31-5"></a></span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="co"># beta.py</span></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="bu">print</span>(<span class="st">"beta"</span>, end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="im">import</span> alpha</span>
<span id="cb31-9"><a href="#cb31-9"></a><span class="bu">print</span>(<span class="st">"Y"</span>,end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb31-10"><a href="#cb31-10"></a></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co"># main.py</span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="bu">print</span>(<span class="st">"main"</span>, end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="im">import</span> alpha</span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="bu">print</span>(<span class="st">"Z"</span>, end<span class="op">=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For more such puzzles, visit <a href="https://getcracked.io">getcracked.io</a>.</p>
</section>
</section>
</section>
<section id="python-type-checking" class="level1">
<h1>Python Type Checking</h1>
<section id="type-systems" class="level2">
<h2 class="anchored" data-anchor-id="type-systems">Type systems</h2>
<p>All programming languages include some kind of <a href="https://en.wikipedia.org/wiki/Type_system">type system</a> that formalizes the categories of objects it can work with and how those categories are treated.</p>
<section id="dynamic-typing" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-typing">Dynamic typing</h3>
<p>Python is a <em>dynamically typed</em> language. This means that the Python interpreter does type checking only at runtime, and that the type of a variable is allowed to change over its lifetime.</p>
</section>
<section id="static-type" class="level3">
<h3 class="anchored" data-anchor-id="static-type">Static type</h3>
<p>Many higher-level languages such as C, C++, Java are statically typed. The type and size of the variable are known at compile-time.</p>
<p>Python will always remain a <em>dynamically typed</em> language. However, <a href="https://www.python.org/dev/peps/pep-0484/">PEP-484</a> introduced type hints, which makes it possible to also do static type checking of Python code.</p>
<p>Unlike how types work in most other statically typed languages, type hints by themselves don’t cause Python to enforce types. As the name suggests, type hints just suggest types. There are other tools like <code>mypy</code> that perform static type checking using type hints.</p>
</section>
<section id="duck-typing" class="level3">
<h3 class="anchored" data-anchor-id="duck-typing">Duck Typing</h3>
<p>Another term that is often used when talking about Python is <a href="https://en.wikipedia.org/wiki/Duck_typing">duck typing</a>. This moniker comes from the phrase: <em>“If it walks like a duck, and quacks like a duck, it must be a duck!”</em>.</p>
<p>Duck typing is a concept related to dynamic typing, where the type or class of the object is less important than the methods it defines. Using duck typing, you do not check the types at all. Instead you check, for the presence of a given method or attribute.</p>
<p>For example, if I define:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">class</span> TheHobbit:</span>
<span id="cb32-2"><a href="#cb32-2"></a>    <span class="kw">def</span> <span class="fu">__len__</span>(<span class="va">self</span>):</span>
<span id="cb32-3"><a href="#cb32-3"></a>        <span class="cf">return</span> <span class="dv">1024</span></span>
<span id="cb32-4"><a href="#cb32-4"></a></span>
<span id="cb32-5"><a href="#cb32-5"></a>the_hobbit <span class="op">=</span> TheHobbit()</span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="bu">print</span>(<span class="ss">f"Length = len(the_hobbit)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length = len(the_hobbit)</code></pre>
</div>
</div>
<p>I would say that all strings, tuples, lists, dicts and instances of TheHobbit have a length.</p>
</section>
<section id="typing-module" class="level3">
<h3 class="anchored" data-anchor-id="typing-module"><code>typing</code> module</h3>
<p>Python’s <code>typing</code> module provides tools for adding type hints to your code. Type hints make your programs more readable, safer to refactor and helps static type checkers like <code>mypy</code> to catch errors before runtime.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="im">from</span> typing <span class="im">import</span> TypedDict</span>
<span id="cb34-2"><a href="#cb34-2"></a></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="kw">class</span> Person(TypedDict):</span>
<span id="cb34-4"><a href="#cb34-4"></a>    name: <span class="bu">str</span></span>
<span id="cb34-5"><a href="#cb34-5"></a>    age: <span class="bu">int</span></span>
<span id="cb34-6"><a href="#cb34-6"></a></span>
<span id="cb34-7"><a href="#cb34-7"></a><span class="kw">def</span> print_people(people: <span class="bu">list</span>[Person]) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb34-8"><a href="#cb34-8"></a>    <span class="cf">for</span> person <span class="kw">in</span> people:</span>
<span id="cb34-9"><a href="#cb34-9"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>person[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>person[<span class="st">'age'</span>]<span class="sc">}</span><span class="ss"> years old"</span>)</span>
<span id="cb34-10"><a href="#cb34-10"></a>        </span>
<span id="cb34-11"><a href="#cb34-11"></a>print_people(</span>
<span id="cb34-12"><a href="#cb34-12"></a>    [{<span class="st">"name"</span>: <span class="st">"Johannes Bernoulli"</span>, <span class="st">"age"</span>: <span class="dv">50</span>},</span>
<span id="cb34-13"><a href="#cb34-13"></a>     {<span class="st">"name"</span>: <span class="st">"Carl Friedrich Gauss"</span>, <span class="st">"age"</span>:<span class="dv">60</span>}]</span>
<span id="cb34-14"><a href="#cb34-14"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Johannes Bernoulli is 50 years old
Carl Friedrich Gauss is 60 years old</code></pre>
</div>
</div>
<section id="features" class="level4">
<h4 class="anchored" data-anchor-id="features">Features</h4>
<ul>
<li>Supports type hinting for variables, functions and classes</li>
<li>Allows for custom type creation using <code>TypeVar</code> and <code>NewType</code></li>
<li>Supports defining reusable type aliases for better code readability</li>
<li>Enables complex type definitions</li>
<li>Supports defining structural subtyping interfaces with protocols</li>
</ul>
</section>
<section id="frequently-used-classes-and-functions" class="level4">
<h4 class="anchored" data-anchor-id="frequently-used-classes-and-functions">Frequently used classes and functions</h4>
<table class="table">
<thead>
<tr class="header">
<th>Object</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://typing.python.org/en/latest/spec/namedtuples.html"><code>typing.NamedTuple</code></a></td>
<td>class</td>
<td>Creates tuple-like classes with named fields</td>
</tr>
<tr class="even">
<td><code>typing.TypeDict</code></td>
<td>class</td>
<td>Creates dictionary-like classes with fixed set of keys</td>
</tr>
<tr class="odd">
<td><code>typing.List</code></td>
<td>class</td>
<td>Represents a list</td>
</tr>
<tr class="even">
<td><code>typing.Callable</code></td>
<td>class</td>
<td>Represents a callable with a specified signature</td>
</tr>
<tr class="odd">
<td><code>typing.Any</code></td>
<td></td>
<td>Represents a type that can be of any value</td>
</tr>
<tr class="even">
<td><code>typing.TypeVar()</code></td>
<td>Function</td>
<td>Creates a generic type variable</td>
</tr>
<tr class="odd">
<td><code>typing.NewType()</code></td>
<td>Function</td>
<td>Creates a distinct type based on an existing one</td>
</tr>
<tr class="even">
<td><code>typing.Protocol</code></td>
<td></td>
<td>Defines a structural subtyping interface that classes can implement</td>
</tr>
</tbody>
</table>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">Examples</h4>
<p>Define a class using <code>NamedTuple</code> and a function that takes it as an argument.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a><span class="im">from</span> typing <span class="im">import</span> NamedTuple</span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb36-3"><a href="#cb36-3"></a></span>
<span id="cb36-4"><a href="#cb36-4"></a><span class="kw">class</span> Employee(NamedTuple):</span>
<span id="cb36-5"><a href="#cb36-5"></a>    employee_id : <span class="bu">int</span></span>
<span id="cb36-6"><a href="#cb36-6"></a>    name: <span class="bu">str</span></span>
<span id="cb36-7"><a href="#cb36-7"></a>    date_of_joining : dt.date</span>
<span id="cb36-8"><a href="#cb36-8"></a>    </span>
<span id="cb36-9"><a href="#cb36-9"></a></span>
<span id="cb36-10"><a href="#cb36-10"></a><span class="kw">def</span> greet_employee(employee: Employee) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb36-11"><a href="#cb36-11"></a>    <span class="cf">return</span> <span class="ss">f"Hi </span><span class="sc">{</span>employee<span class="sc">.</span>name<span class="sc">}</span><span class="ss">, employee_id : </span><span class="sc">{</span>employee<span class="sc">.</span>employee_id<span class="sc">}</span><span class="ss">, welcome to the firm!"</span></span>
<span id="cb36-12"><a href="#cb36-12"></a>    </span>
<span id="cb36-13"><a href="#cb36-13"></a>greet_employee(Employee(<span class="dv">1</span>, <span class="st">"Alice"</span>, dt.date(<span class="dv">2025</span>,<span class="dv">1</span>,<span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>'Hi Alice, employee_id : 1, welcome to the firm!'</code></pre>
</div>
</div>
<p>We can define a type alias to simplify complex type annotations:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="im">from</span> typing <span class="im">import</span> Dict, Union</span>
<span id="cb38-3"><a href="#cb38-3"></a>UserData <span class="op">=</span> Dict[<span class="bu">str</span>, Union[<span class="bu">str</span>,<span class="bu">int</span>]]</span>
<span id="cb38-4"><a href="#cb38-4"></a></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="kw">def</span> format_user(user: UserData) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb38-6"><a href="#cb38-6"></a>   <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>user[<span class="st">"name"</span>]<span class="sc">}</span><span class="ss"> has last login date </span><span class="sc">{</span>user[<span class="st">"last_login"</span>]<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb38-7"><a href="#cb38-7"></a>   </span>
<span id="cb38-8"><a href="#cb38-8"></a>format_user({<span class="st">"name"</span>: <span class="st">"John Carmack"</span>, <span class="st">"last_login"</span>: dt.date(<span class="dv">2025</span>,<span class="dv">6</span>,<span class="dv">30</span>)}) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>'John Carmack has last login date 2025-06-30'</code></pre>
</div>
</div>
<p>Create a protocol and implement it in a class:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="im">from</span> typing <span class="im">import</span> Protocol</span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="kw">class</span> Greeter(Protocol):</span>
<span id="cb40-4"><a href="#cb40-4"></a>    <span class="kw">def</span> greet(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb40-5"><a href="#cb40-5"></a>        ...</span>
<span id="cb40-6"><a href="#cb40-6"></a>        </span>
<span id="cb40-7"><a href="#cb40-7"></a><span class="kw">class</span> FriendlyGreeter:</span>
<span id="cb40-8"><a href="#cb40-8"></a>    <span class="kw">def</span> greet(<span class="va">self</span>)<span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb40-9"><a href="#cb40-9"></a>        <span class="cf">return</span> <span class="st">"Hello, friend!"</span></span>
<span id="cb40-10"><a href="#cb40-10"></a>        </span>
<span id="cb40-11"><a href="#cb40-11"></a><span class="kw">def</span> welcome(greeter: Greeter) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb40-12"><a href="#cb40-12"></a>    <span class="bu">print</span>(greeter.greet())</span>
<span id="cb40-13"><a href="#cb40-13"></a>    </span>
<span id="cb40-14"><a href="#cb40-14"></a>welcome(FriendlyGreeter())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello, friend!</code></pre>
</div>
</div>
</section>
</section>
<section id="function-annotations" class="level3">
<h3 class="anchored" data-anchor-id="function-annotations">Function Annotations</h3>
<p>For functions you can annotate arguments and return value. This is done as follows:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a><span class="im">import</span> math</span>
<span id="cb42-2"><a href="#cb42-2"></a></span>
<span id="cb42-3"><a href="#cb42-3"></a><span class="kw">def</span> area(radius: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb42-4"><a href="#cb42-4"></a>    <span class="cf">return</span> math.pi <span class="op">*</span> radius<span class="op">**</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are special mypy expressions : <code>reveal_type()</code> and <code>reveal_locals()</code> that you can add to your code and mypy will report which types it has inferred.</p>
</section>
</section>
<section id="flattening-a-dict-of-dicts" class="level2">
<h2 class="anchored" data-anchor-id="flattening-a-dict-of-dicts">Flattening a <code>dict</code> of <code>dict</code>s</h2>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a>quote_types <span class="op">=</span> {</span>
<span id="cb43-2"><a href="#cb43-2"></a>    <span class="st">'Bids'</span> : {</span>
<span id="cb43-3"><a href="#cb43-3"></a>        <span class="dv">1</span> : [<span class="dv">10</span>, <span class="dv">45</span>],</span>
<span id="cb43-4"><a href="#cb43-4"></a>        <span class="dv">2</span> : [<span class="dv">25</span>, <span class="fl">47.5</span>],</span>
<span id="cb43-5"><a href="#cb43-5"></a>        <span class="dv">3</span> : [<span class="dv">30</span>, <span class="fl">49.5</span>]</span>
<span id="cb43-6"><a href="#cb43-6"></a>    },</span>
<span id="cb43-7"><a href="#cb43-7"></a>    <span class="st">'Offers'</span> : {</span>
<span id="cb43-8"><a href="#cb43-8"></a>        <span class="dv">1</span> : [<span class="dv">30</span>, <span class="fl">50.5</span>],</span>
<span id="cb43-9"><a href="#cb43-9"></a>        <span class="dv">2</span> : [<span class="dv">25</span>, <span class="fl">52.5</span>],</span>
<span id="cb43-10"><a href="#cb43-10"></a>        <span class="dv">3</span> : [<span class="dv">10</span>, <span class="dv">55</span>]</span>
<span id="cb43-11"><a href="#cb43-11"></a>    }</span>
<span id="cb43-12"><a href="#cb43-12"></a>}</span>
<span id="cb43-13"><a href="#cb43-13"></a></span>
<span id="cb43-14"><a href="#cb43-14"></a>dict_of_height_3 <span class="op">=</span>{</span>
<span id="cb43-15"><a href="#cb43-15"></a>    <span class="st">'a'</span> : {</span>
<span id="cb43-16"><a href="#cb43-16"></a>        <span class="st">'b'</span> :{</span>
<span id="cb43-17"><a href="#cb43-17"></a>            <span class="st">'c'</span> : <span class="dv">1</span>,</span>
<span id="cb43-18"><a href="#cb43-18"></a>            <span class="st">'d'</span> : <span class="dv">2</span>,</span>
<span id="cb43-19"><a href="#cb43-19"></a>        },</span>
<span id="cb43-20"><a href="#cb43-20"></a>        <span class="st">'e'</span> : {</span>
<span id="cb43-21"><a href="#cb43-21"></a>            <span class="st">'f'</span> : <span class="dv">3</span>,</span>
<span id="cb43-22"><a href="#cb43-22"></a>            <span class="st">'g'</span> : <span class="dv">4</span>,</span>
<span id="cb43-23"><a href="#cb43-23"></a>        }</span>
<span id="cb43-24"><a href="#cb43-24"></a>    },</span>
<span id="cb43-25"><a href="#cb43-25"></a>    <span class="st">'h'</span> : {</span>
<span id="cb43-26"><a href="#cb43-26"></a>        <span class="st">'i'</span> : {</span>
<span id="cb43-27"><a href="#cb43-27"></a>            <span class="st">'j'</span> : <span class="dv">5</span>,</span>
<span id="cb43-28"><a href="#cb43-28"></a>            <span class="st">'k'</span> : <span class="dv">6</span>,</span>
<span id="cb43-29"><a href="#cb43-29"></a>        },</span>
<span id="cb43-30"><a href="#cb43-30"></a>        <span class="st">'l'</span> : {</span>
<span id="cb43-31"><a href="#cb43-31"></a>            <span class="st">'m'</span> : <span class="dv">7</span>,</span>
<span id="cb43-32"><a href="#cb43-32"></a>            <span class="st">'n'</span> : <span class="dv">8</span>,</span>
<span id="cb43-33"><a href="#cb43-33"></a>        },</span>
<span id="cb43-34"><a href="#cb43-34"></a>    }</span>
<span id="cb43-35"><a href="#cb43-35"></a>}</span>
<span id="cb43-36"><a href="#cb43-36"></a></span>
<span id="cb43-37"><a href="#cb43-37"></a><span class="kw">def</span> flatten_dict(d : <span class="bu">dict</span>, parent_key <span class="op">=</span> <span class="st">''</span>, sep <span class="op">=</span> <span class="st">'_'</span>):</span>
<span id="cb43-38"><a href="#cb43-38"></a>    result <span class="op">=</span> {}</span>
<span id="cb43-39"><a href="#cb43-39"></a>    <span class="cf">for</span> k,v <span class="kw">in</span> d.items():</span>
<span id="cb43-40"><a href="#cb43-40"></a>        <span class="cf">if</span> (<span class="bu">type</span>(v) <span class="kw">is</span> <span class="bu">dict</span>):</span>
<span id="cb43-41"><a href="#cb43-41"></a>            <span class="co"># Recursively flatten the child element</span></span>
<span id="cb43-42"><a href="#cb43-42"></a>            child_flat_dict <span class="op">=</span> flatten_dict(v, parent_key<span class="op">=</span><span class="bu">str</span>(k))</span>
<span id="cb43-43"><a href="#cb43-43"></a></span>
<span id="cb43-44"><a href="#cb43-44"></a>            <span class="co"># We now have a dict-of-dicts of height 2</span></span>
<span id="cb43-45"><a href="#cb43-45"></a>            <span class="cf">for</span> child_k, child_v <span class="kw">in</span> child_flat_dict.items():</span>
<span id="cb43-46"><a href="#cb43-46"></a>                key <span class="op">=</span> parent_key <span class="op">+</span> sep <span class="op">+</span> child_k <span class="cf">if</span> parent_key <span class="op">&gt;</span> <span class="st">''</span> <span class="cf">else</span> child_k</span>
<span id="cb43-47"><a href="#cb43-47"></a>                result[key] <span class="op">=</span> child_v</span>
<span id="cb43-48"><a href="#cb43-48"></a>        <span class="cf">else</span>:</span>
<span id="cb43-49"><a href="#cb43-49"></a>            key <span class="op">=</span> parent_key <span class="op">+</span> sep <span class="op">+</span> <span class="bu">str</span>(k)</span>
<span id="cb43-50"><a href="#cb43-50"></a>            result[key] <span class="op">=</span> v</span>
<span id="cb43-51"><a href="#cb43-51"></a>            </span>
<span id="cb43-52"><a href="#cb43-52"></a>    <span class="cf">return</span> result</span>
<span id="cb43-53"><a href="#cb43-53"></a></span>
<span id="cb43-54"><a href="#cb43-54"></a><span class="bu">print</span>(<span class="st">"flattening quotes</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb43-55"><a href="#cb43-55"></a>flatten_dict(quote_types)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>flattening quotes
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>{'Bids_1': [10, 45],
 'Bids_2': [25, 47.5],
 'Bids_3': [30, 49.5],
 'Offers_1': [30, 50.5],
 'Offers_2': [25, 52.5],
 'Offers_3': [10, 55]}</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a><span class="bu">print</span>(<span class="st">"dict_of_height_3</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb46-2"><a href="#cb46-2"></a>flatten_dict(dict_of_height_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>dict_of_height_3
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>{'a_b_c': 1,
 'a_b_d': 2,
 'a_e_f': 3,
 'a_e_g': 4,
 'h_i_j': 5,
 'h_i_k': 6,
 'h_l_m': 7,
 'h_l_n': 8}</code></pre>
</div>
</div>
</section>
<section id="list-in-python" class="level2">
<h2 class="anchored" data-anchor-id="list-in-python"><code>list()</code> in Python</h2>
<p><code>list</code>s are mutable sequences typically used to store collections of homogenous items.</p>
<p><code>list.append(x:Any)-&gt;None</code> adds a single-item to the end of the list, <em>in-place</em>. <code>list.extend(Iterable)-&gt;None</code> extends the list <em>in-place</em> by appending all items from the iterable, and returns <code>None</code>.</p>
<p><code>list.insert(i,x)-&gt;None</code> inserts an element <code>x</code> at the given index <code>i</code>. <code>list.remove(x)</code> removes the first item from the list who value is equal to <code>x</code>. <code>list.pop([i])</code> removes the item at the given position in the list and returns it. If no index is specified, <code>list.pop()</code> removes and returns the last element in the list.</p>
</section>
<section id="reverse-a-list" class="level2">
<h2 class="anchored" data-anchor-id="reverse-a-list">Reverse a list</h2>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb49-2"><a href="#cb49-2"></a>l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb49-3"><a href="#cb49-3"></a></span>
<span id="cb49-4"><a href="#cb49-4"></a>l.reverse()  <span class="co"># reverse in place</span></span>
<span id="cb49-5"><a href="#cb49-5"></a><span class="bu">print</span>(l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5, 4, 3, 2, 1]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="co"># recursive solution</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="kw">def</span> reverse(l : List, acc : List <span class="op">=</span> []) <span class="op">-&gt;</span> List:</span>
<span id="cb51-3"><a href="#cb51-3"></a>    <span class="cf">if</span>(<span class="bu">len</span>(l) <span class="op">==</span> <span class="dv">0</span>):</span>
<span id="cb51-4"><a href="#cb51-4"></a>        <span class="cf">return</span> acc</span>
<span id="cb51-5"><a href="#cb51-5"></a>    </span>
<span id="cb51-6"><a href="#cb51-6"></a>    <span class="cf">if</span>(<span class="bu">len</span>(l) <span class="op">==</span> <span class="dv">1</span>):</span>
<span id="cb51-7"><a href="#cb51-7"></a>        l.extend(acc)</span>
<span id="cb51-8"><a href="#cb51-8"></a>        <span class="cf">return</span> l</span>
<span id="cb51-9"><a href="#cb51-9"></a>    </span>
<span id="cb51-10"><a href="#cb51-10"></a>    new_acc <span class="op">=</span> [l[<span class="dv">0</span>]]</span>
<span id="cb51-11"><a href="#cb51-11"></a>    new_acc.extend(acc)</span>
<span id="cb51-12"><a href="#cb51-12"></a>    <span class="cf">return</span> reverse(l[<span class="dv">1</span>:], new_acc)</span>
<span id="cb51-13"><a href="#cb51-13"></a></span>
<span id="cb51-14"><a href="#cb51-14"></a><span class="kw">def</span> reverse_iter(l : List) <span class="op">-&gt;</span> List:</span>
<span id="cb51-15"><a href="#cb51-15"></a>    result <span class="op">=</span> []</span>
<span id="cb51-16"><a href="#cb51-16"></a>    <span class="cf">for</span> element <span class="kw">in</span> l:</span>
<span id="cb51-17"><a href="#cb51-17"></a>        result.insert(<span class="dv">0</span>, element)</span>
<span id="cb51-18"><a href="#cb51-18"></a></span>
<span id="cb51-19"><a href="#cb51-19"></a>    <span class="cf">return</span> result</span>
<span id="cb51-20"><a href="#cb51-20"></a></span>
<span id="cb51-21"><a href="#cb51-21"></a>items <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">42</span>, <span class="dv">15</span>, <span class="dv">3</span>]</span>
<span id="cb51-22"><a href="#cb51-22"></a>reverse(items)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>[3, 15, 42, 17, 2]</code></pre>
</div>
</div>
</section>
<section id="determine-if-the-list-is-a-palindrome" class="level2">
<h2 class="anchored" data-anchor-id="determine-if-the-list-is-a-palindrome">Determine if the list is a palindrome</h2>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="kw">def</span> is_palindrome(l : List) <span class="op">-&gt;</span> <span class="bu">bool</span>:</span>
<span id="cb53-3"><a href="#cb53-3"></a>    n <span class="op">=</span> <span class="bu">len</span>(l)</span>
<span id="cb53-4"><a href="#cb53-4"></a>    i <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb53-5"><a href="#cb53-5"></a>    j <span class="op">=</span> n <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb53-6"><a href="#cb53-6"></a></span>
<span id="cb53-7"><a href="#cb53-7"></a>    <span class="cf">while</span>(i <span class="op">&lt;=</span> j):</span>
<span id="cb53-8"><a href="#cb53-8"></a>        <span class="cf">if</span>(l[i] <span class="op">!=</span> l[j]):</span>
<span id="cb53-9"><a href="#cb53-9"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb53-10"><a href="#cb53-10"></a>        </span>
<span id="cb53-11"><a href="#cb53-11"></a>        i <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb53-12"><a href="#cb53-12"></a>        j <span class="op">=</span> n <span class="op">-</span> i <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb53-13"><a href="#cb53-13"></a></span>
<span id="cb53-14"><a href="#cb53-14"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb53-15"><a href="#cb53-15"></a></span>
<span id="cb53-16"><a href="#cb53-16"></a><span class="bu">print</span>(is_palindrome([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>]))</span>
<span id="cb53-17"><a href="#cb53-17"></a><span class="bu">print</span>(is_palindrome([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True
True</code></pre>
</div>
</div>
</section>
<section id="flatten-a-nested-list" class="level2">
<h2 class="anchored" data-anchor-id="flatten-a-nested-list">Flatten a nested list</h2>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">def</span> flatten_list(l : List):</span>
<span id="cb55-2"><a href="#cb55-2"></a>    result <span class="op">=</span> []</span>
<span id="cb55-3"><a href="#cb55-3"></a>    <span class="cf">for</span> element <span class="kw">in</span> l:</span>
<span id="cb55-4"><a href="#cb55-4"></a>        <span class="cf">if</span> (<span class="bu">type</span>(element) <span class="kw">is</span> <span class="bu">list</span>):</span>
<span id="cb55-5"><a href="#cb55-5"></a>            simple_list <span class="op">=</span> flatten_list(element)</span>
<span id="cb55-6"><a href="#cb55-6"></a>            result.extend(simple_list)</span>
<span id="cb55-7"><a href="#cb55-7"></a>        <span class="cf">else</span>:</span>
<span id="cb55-8"><a href="#cb55-8"></a>            result.append(element)</span>
<span id="cb55-9"><a href="#cb55-9"></a>    <span class="cf">return</span> result</span>
<span id="cb55-10"><a href="#cb55-10"></a></span>
<span id="cb55-11"><a href="#cb55-11"></a>flatten_list([<span class="st">'a'</span>, [<span class="st">'b'</span>, [<span class="st">'c'</span>, <span class="st">'d'</span>], <span class="st">'e'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>['a', 'b', 'c', 'd', 'e']</code></pre>
</div>
</div>
</section>
<section id="eliminate-consecutive-duplicates-of-list-elements" class="level2">
<h2 class="anchored" data-anchor-id="eliminate-consecutive-duplicates-of-list-elements">Eliminate consecutive duplicates of list elements</h2>
<p>Always use <code>key in my_dict</code> directly instead of <code>key in my_dict.keys()</code>, if you want to check the existence of a key in a <code>dict</code>. That will use the dictionary’s <span class="math inline">\(O(1)\)</span> hashing rather than <span class="math inline">\(O(n)\)</span>. <code>my_dict.keys()</code> returns a list of keys.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb57-2"><a href="#cb57-2"></a></span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="co"># Remove duplicates from a nested-list while preserving the</span></span>
<span id="cb57-4"><a href="#cb57-4"></a><span class="co"># the structure</span></span>
<span id="cb57-5"><a href="#cb57-5"></a><span class="kw">def</span> array_unique(l : List, unique_elements : <span class="bu">dict</span><span class="op">=</span>{}) <span class="op">-&gt;</span> (List,<span class="bu">dict</span>):</span>
<span id="cb57-6"><a href="#cb57-6"></a>    result <span class="op">=</span> []</span>
<span id="cb57-7"><a href="#cb57-7"></a>    <span class="cf">for</span> element <span class="kw">in</span> l:</span>
<span id="cb57-8"><a href="#cb57-8"></a>        <span class="cf">if</span> <span class="bu">type</span>(element) <span class="kw">is</span> <span class="bu">list</span>:</span>
<span id="cb57-9"><a href="#cb57-9"></a>            <span class="co"># get the list of unique children and append it to result</span></span>
<span id="cb57-10"><a href="#cb57-10"></a>            child_list, unique_elements <span class="op">=</span> array_unique(element, unique_elements<span class="op">=</span>unique_elements)</span>
<span id="cb57-11"><a href="#cb57-11"></a>            result.append(child_list)</span>
<span id="cb57-12"><a href="#cb57-12"></a>        <span class="cf">else</span>:</span>
<span id="cb57-13"><a href="#cb57-13"></a>            <span class="cf">if</span> element <span class="kw">in</span> unique_elements:</span>
<span id="cb57-14"><a href="#cb57-14"></a>                <span class="cf">continue</span></span>
<span id="cb57-15"><a href="#cb57-15"></a>            <span class="cf">else</span>:</span>
<span id="cb57-16"><a href="#cb57-16"></a>                result.append(element)</span>
<span id="cb57-17"><a href="#cb57-17"></a>                unique_elements[element] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb57-18"><a href="#cb57-18"></a></span>
<span id="cb57-19"><a href="#cb57-19"></a>    <span class="cf">return</span> result, unique_elements</span>
<span id="cb57-20"><a href="#cb57-20"></a></span>
<span id="cb57-21"><a href="#cb57-21"></a>my_array <span class="op">=</span> [<span class="dv">1</span>, [<span class="dv">1</span>, <span class="dv">2</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="dv">4</span>, <span class="dv">5</span>], [<span class="dv">5</span>, <span class="dv">6</span>], <span class="dv">7</span>]</span>
<span id="cb57-22"><a href="#cb57-22"></a>result, _ <span class="op">=</span> array_unique(my_array)</span>
<span id="cb57-23"><a href="#cb57-23"></a>result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>[1, [2, [3], 4, 5], [6], 7]</code></pre>
</div>
</div>
</section>
<section id="list-comprehensions" class="level2">
<h2 class="anchored" data-anchor-id="list-comprehensions">List comprehensions</h2>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>)]</span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="bu">print</span>(squares)</span>
<span id="cb59-3"><a href="#cb59-3"></a>combs <span class="op">=</span> [(x,y,z) <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>) <span class="cf">for</span> y <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>) <span class="cf">for</span> z <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>)]</span>
<span id="cb59-4"><a href="#cb59-4"></a><span class="bu">print</span>(combs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0, 1, 4, 9, 16]
[(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1), (1, 0, 0), (1, 0, 1), (1, 1, 0), (1, 1, 1)]</code></pre>
</div>
</div>
</section>
<section id="nested-list-comprehensions" class="level2">
<h2 class="anchored" data-anchor-id="nested-list-comprehensions">Nested List comprehensions</h2>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a>matrix <span class="op">=</span> [</span>
<span id="cb61-2"><a href="#cb61-2"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb61-3"><a href="#cb61-3"></a>    [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb61-4"><a href="#cb61-4"></a>    [<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>],</span>
<span id="cb61-5"><a href="#cb61-5"></a>]</span>
<span id="cb61-6"><a href="#cb61-6"></a></span>
<span id="cb61-7"><a href="#cb61-7"></a><span class="co"># Take the transpose of a matrix</span></span>
<span id="cb61-8"><a href="#cb61-8"></a>[[row[i] <span class="cf">for</span> row <span class="kw">in</span> matrix]<span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</code></pre>
</div>
</div>
</section>
<section id="tuples-in-python" class="level2">
<h2 class="anchored" data-anchor-id="tuples-in-python"><code>tuple</code>s in Python</h2>
<p><code>list</code>s are mutable wherease <code>tuple</code>s are immutable types. The contents of a tuple cannot be modified at run-time. They usually store a heterogenous collection of items.</p>
</section>
<section id="sets-in-python" class="level2">
<h2 class="anchored" data-anchor-id="sets-in-python"><code>set</code>s in Python</h2>
<p>Python also includes a data-type for sets. A set is an unordered collection with no duplicate elements. Basic uses include membership testing and eliminating duplicate entries. Set objects also support mathematical operations such as union, intersection, difference and symmetric difference.</p>
<p>Curly braces or <code>set()</code> is used to create sets.</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a>a <span class="op">=</span> <span class="bu">set</span>(<span class="st">'abracadabra'</span>)</span>
<span id="cb63-2"><a href="#cb63-2"></a>b <span class="op">=</span> <span class="bu">set</span>(<span class="st">'alcazam'</span>)</span>
<span id="cb63-3"><a href="#cb63-3"></a></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="bu">print</span>(a)</span>
<span id="cb63-5"><a href="#cb63-5"></a><span class="bu">print</span>(a <span class="op">-</span> b)</span>
<span id="cb63-6"><a href="#cb63-6"></a><span class="bu">print</span>(a <span class="op">|</span> b)</span>
<span id="cb63-7"><a href="#cb63-7"></a><span class="bu">print</span>(a <span class="op">&amp;</span> b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'r', 'd', 'a', 'c', 'b'}
{'b', 'r', 'd'}
{'z', 'l', 'r', 'd', 'a', 'c', 'm', 'b'}
{'c', 'a'}</code></pre>
</div>
</div>
</section>
<section id="python-3.8-walrus-operator" class="level2">
<h2 class="anchored" data-anchor-id="python-3.8-walrus-operator">Python 3.8 walrus <code>:=</code> operator</h2>
<p><code>:=</code> assigns a value to a variable and simultaneous returns the value. For example:</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a>my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb65-2"><a href="#cb65-2"></a></span>
<span id="cb65-3"><a href="#cb65-3"></a><span class="cf">if</span> (n <span class="op">:=</span> <span class="bu">len</span>(my_list)):</span>
<span id="cb65-4"><a href="#cb65-4"></a>    <span class="bu">print</span>(<span class="ss">f"The list has non-zero length = </span><span class="sc">{</span>n<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The list has non-zero length = 5</code></pre>
</div>
</div>
<p>Another motivating use-case is when looping over fixed-length blocks in a protocol parser.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># Loop over fixed length blocks</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="cf">while</span> (block <span class="op">:=</span> f.read(<span class="dv">256</span>)) <span class="op">!=</span> <span class="st">''</span>:</span>
<span id="cb67-3"><a href="#cb67-3"></a>    process(block)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
{"contents":[]}
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../posts/python-built-in-types";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="quasar-chunawala/quantdev" data-repo-id="R_kgDOL2t5-A" data-category="General" data-category-id="DIC_kwDOL2t5-M4ClndQ" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>